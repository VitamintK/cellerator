(* Content-type: application/mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 6.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       145,          7]
NotebookDataLength[    132225,       3162]
NotebookOptionsPosition[    130535,       3101]
NotebookOutlinePosition[    131020,       3120]
CellTagsIndexPosition[    130977,       3117]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell[" xlr8r2SBML", "Title"],

Cell[CellGroupData[{

Cell["package wrapper for xlr8r2SBML", "Subtitle"],

Cell["\<\
This software is extremely experimental
xlr8r2bml is a plug-in for xCellerator that converts an xlr8r model to SBML

\[Copyright]2006 California Institute of Technology.All Rights Reserved.

This package is free software; you can redistribute it and/or modify it under \
the terms of the GNU Lesser General Public License as published by the Free \
Software Foundation; either version 2.1 of the License, or any later version.

This software is distributed in the hope that it will be useful, but WITHOUT \
ANY WARRANTY, WITHOUT EVEN THE IMPLIED WARRANTY OF MERCHANTABILITY OR FITNESS \
FOR A PARTICULAR PURPOSE.  The software and  documentation provided hereunder \
is on an \"as is\" basis, and the  California Institute of Technology has no \
obligations to provide maintenance, support, updates, enhancements or \
modifications.  In no event shall the California Institute of Technology  be \
liable to any party for direct, indirect, special, incidental or \
consequential damages, including lost profits, arising  out of the use of \
this software and its documentation, even if the California Institute of \
Technology have been advised of the possibility of such damage.  See the GNU \
Lesser General Public License for more details.

You should have received a copy of the GNU Lesser General Public License \
along with this library; if not, write to the Free Software Foundation, Inc., \
59 Temple Place, Suite 330, Boston, MA 02111-1307 USA.

 The original code contained here was initially developed by:

 \tJoanna G Murakami
 \tBiological Network Modeling Center
 \tCalifornia Institute of Technology
 \tPasadena, CA, 91125, USA
 \thttp://bnmc.caltech.edu
 \t\
\>", "Text"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Revisions", "Section"],

Cell[TextData[{
 "0.4 change _EmptySet to EmptySet. Always include Empty Set. Fix dependence \
of some kinetic laws on concentration of emptyset. \n0.3 4 Aug 2008 BES - for \
",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 " verison 6. Correct some typos in doubleLongRIghtArrow and \
DoubleLongLeftRightArrow (where RightArrow was repeated twice).\n0.2 2 July \
2007 B.E.Shapiro - (1) replace Cellerator variable \[EmptySet] with SID \
\[UnderBracket]EmptySet; (2) add default compartment volume of 1.\n"
}], "Text",
 CellChangeTimes->{{3.426876819618285*^9, 3.426876830483153*^9}, {
  3.426877465905887*^9, 3.42687748703189*^9}, {3.512676383841007*^9, 
  3.512676397022169*^9}, {3.512676804810913*^9, 3.512676809440612*^9}, {
  3.512678121469316*^9, 3.5126781350276546`*^9}}]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"BeginPackage", "[", "\"\<xlr8r2SBML`\>\"", "]"}], ";"}]], "Input",
 InitializationCell->True],

Cell[CellGroupData[{

Cell["load external packages", "Section"],

Cell["Check to make sure proper packages are loaded", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", " ", 
   StyleBox[
    RowBox[{
     RowBox[{"turn", " ", "off", " ", "message", " ", "writing"}], " ", "-", 
     " ", 
     RowBox[{
      RowBox[{"don", "'"}], "t", " ", "echo", " ", "a", " ", "message", " ", 
      "if", " ", "you", " ", "have", " ", "to", " ", "load", " ", "mathsbml", 
      " ", "or", " ", "xlr8r"}]}],
    Background->GrayLevel[1]], " ", "*)"}], " ", "\[IndentingNewLine]", 
  "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"Length", "[", 
        RowBox[{"Names", "[", "\"\<FLAGS`ECHOLOAD\>\"", "]"}], "]"}], ">", 
       "0"}], ",", "\[IndentingNewLine]", 
      RowBox[{"saveflag", "=", 
       RowBox[{"ToExpression", "[", "\"\<FLAGS`ECHOLOAD\>\"", "]"}]}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"saveflag", "=", "True"}], ";"}]}], "\[IndentingNewLine]", 
     "]"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"FLAGS`ECHOLOAD", "=", "False"}], ";"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    StyleBox[
     RowBox[{
     "Load", " ", "mathsbml", " ", "if", " ", "it", " ", "is", " ", "not", 
      " ", "already", " ", "in", " ", "memory"}],
     Background->GrayLevel[1]], 
    StyleBox[" ",
     Background->GrayLevel[1]], "*)"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"Length", "[", 
        RowBox[{"Names", "[", "\"\<MathSBML`$MathSBML$Version\>\"", "]"}], 
        "]"}], "\[Equal]", "0"}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"<<", "mathsbml.m"}], ";"}]}], "\[IndentingNewLine]", "]"}], 
    ";"}], " ", "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    StyleBox[
     RowBox[{"Load", " ", 
      RowBox[{"xlr8", "r"}], " ", "if", " ", "it", " ", "is", " ", "not", " ",
       "already", " ", "in", " ", "memory"}],
     Background->GrayLevel[1]], 
    StyleBox[" ",
     Background->GrayLevel[1]], "*)"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"Length", "[", 
        RowBox[{"Names", "[", "\"\<xlr8r`$xlr8r$Version\>\"", "]"}], "]"}], 
       "\[Equal]", "0"}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"<<", "xlr8r.m"}], ";"}]}], "\[IndentingNewLine]", "]"}], 
    ";"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    StyleBox[
     RowBox[{
      RowBox[{"Put", " ", "package"}], "-", 
      RowBox[{
      "load", " ", "echoing", " ", "back", " ", "into", " ", "its", " ", 
       "previous", " ", "mode"}]}],
     Background->GrayLevel[1]], " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"FLAGS`ECHOLOAD", "=", "saveflag"}], ";"}], "\[IndentingNewLine]",
    "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    StyleBox[
     RowBox[{"clean", " ", "up"}],
     Background->GrayLevel[1]], 
    StyleBox[" ",
     Background->GrayLevel[1]], "*)"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Remove", "[", "saveflag", "]"}], ";"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    StyleBox[
     RowBox[{
     "set", " ", "a", " ", "flag", " ", "to", " ", "indicate", " ", "whether",
       " ", "or", " ", "not", " ", "some", " ", "version", " ", "of", " ", 
      "this", " ", "package", " ", "has", " ", "already", " ", "been", " ", 
      RowBox[{"loaded", ".", " ", "This"}], " ", "flag", " ", "will", " ", 
      "again", " ", "be", " ", "checked", " ", "at", " ", "the", " ", "very", 
      " ", "end", " ", "of", " ", "loading", " ", "the", " ", "package"}],
     Background->GrayLevel[1]], " ", "*)"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"versions", "=", 
     RowBox[{"Names", "[", "\"\<xlr8r2SBMLVersion\>\"", "]"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Off", "[", 
     RowBox[{"TEMP$OLDVERSION", "::", "\"\<shdw\>\""}], "]"}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Off", "[", 
     RowBox[{"TEMP$FIRST", "::", "\"\<shdw\>\""}], "]"}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"Length", "[", "versions", "]"}], ">", "0"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"TEMP$OLDVERSION", "=", "xlr8r2SBMLVersion"}], ";", " ", 
       "\[IndentingNewLine]", 
       RowBox[{"TEMP$FIRST", "=", "False"}], ";"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"TEMP$FIRST", "=", "True"}]}], "]"}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Remove", "[", "versions", "]"}], ";"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    StyleBox[
     RowBox[{
     "THE", " ", "FOLLOWING", " ", "FLAG", " ", "SHOULD", " ", "UNIQUELY", 
      " ", "IDENTIFY", " ", "THIS", " ", 
      RowBox[{"S", "/", "W"}], " ", "VERSION", " ", "AND", " ", "SHOULD", " ",
       "BE", " ", "CHANGED", " ", "EACH", " ", "TIME", " ", "THE", " ", 
      "PROGRAM", " ", "IS", " ", "MODIFIED"}],
     Background->GrayLevel[1]], " ", "*)"}], "\[IndentingNewLine]", " ", 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"xlr8r2SBMLVersion", "=", "\"\<0.4 (24 April 2011)\>\""}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5126555512666492`*^9, 3.5126555621374073`*^9}}],

Cell["", "Text"]
}, Open  ]],

Cell[CellGroupData[{

Cell["define entry points", "Section"],

Cell["\<\
define only the functions that you want an external user to call here. Do not \
define any functions here that you use internally.. 

The \"usage\" attribute on  a variable f::usage=string  is a help string that \
a user can get information about by typing ?foo
\
\>", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"convertToSBML", "::", "usage"}], "=", 
   "\"\< convertToSBML[network, ic, rates, id, name, \
compartment]\\n\\nwhere\\n\\nnetwork = an xlr8r network, identical to input \
to interpret\\nic = initial conditions in format {x1\[Rule]value1, \
x2\[Rule]value2,...}\\nrates = list of constants, e.g., {a\[Rule]23, \
b\[Rule]4, ...}\\nid = desired SBML model id\\nname = desired SBML model name\
\\ncompartment = desired SBML compartment id\>\""}], ";"}]], "Input",
 InitializationCell->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["Private area", "Section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Begin", "[", "\"\<`Private`\>\"", "]"}], ";"}]], "Input",
 InitializationCell->True]
}, Open  ]],

Cell[TextData[{
 "\n",
 StyleBox["put all code after this point\n",
  FontColor->RGBColor[1, 1, 0]],
 StyleBox["\nmake sure each function is marked as \"initialization cell\" by \
menu \"cell/cell properties/initialization cell\" - the cell bracket will \
have a small triangle with a single vertical line hanging down from the \
triangle.",
  FontSize->14,
  FontColor->GrayLevel[0]],
 StyleBox["\n",
  FontColor->RGBColor[1, 1, 0]]
}], "Subsubtitle",
 Background->GrayLevel[0.500008]],

Cell[CellGroupData[{

Cell["convertToSBML[ ]", "Section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   StyleBox["convertToSBML",
    FontColor->RGBColor[0, 0, 1]], "[", 
   RowBox[{
   "network_", ",", "initialConditions_", ",", " ", "rates_", ",", " ", 
    "modelid_", ",", " ", "modelname_", ",", " ", "compartmentname_"}], "]"}],
   ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"debug", "=", "False"}], ",", "low", ",", "addNextReaction", 
      ",", "mybind", ",", "nosubscript", ",", "kinlaw", ",", " ", 
      "handleMassAction", ",", "handleMM", ",", "handleHill", ",", 
      "handleGRN", ",", "handleSSystem", ",", "handleNHCA", ",", "handleGMWC",
       ",", "species", ",", "sids", ",", "svalues", ",", "rids", ",", 
      "rvalues", ",", " ", "noEmptySet", ",", " ", "notes", ",", " ", 
      "dPrint"}], "}"}], ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"dPrint", "[", "x___", "]"}], ":=", " ", 
      RowBox[{"If", "[", 
       RowBox[{"debug", ",", " ", 
        RowBox[{"Print", "[", 
         RowBox[{"\"\<convertToSBML:\>\"", ",", " ", "x"}], "]"}]}], "]"}]}], 
     ";", " ", "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{
      "Handles", " ", "formation", " ", "of", " ", "intermediate", " ", 
       "complexes"}], " ", "*)"}], "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       StyleBox["mybind",
        Background->RGBColor[0, 1, 1]], "[", 
       RowBox[{"A_", ",", "B_"}], "]"}], ":=", 
      RowBox[{"Module", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"names", ",", "name"}], "}"}], ",", 
        RowBox[{
         RowBox[{"names", "=", 
          RowBox[{"Sort", "[", 
           RowBox[{"{", 
            RowBox[{"A", ",", "B"}], "}"}], "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"name", "=", 
          RowBox[{
           RowBox[{"ToString", "[", 
            RowBox[{"names", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "]"}], "<>", 
           "\"\<\[UnderBracket]\>\"", "<>", 
           RowBox[{"ToString", "[", 
            RowBox[{"names", "[", 
             RowBox[{"[", "2", "]"}], "]"}], "]"}]}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"Return", "[", 
          RowBox[{"Symbol", "[", "name", "]"}], "]"}], ";"}]}], 
       "\[IndentingNewLine]", "]"}]}], ";", 
     StyleBox[
      RowBox[{"(*", " ", 
       RowBox[{"End", " ", 
        RowBox[{"myBind", "[", "]"}]}], " ", "*)"}],
      Background->RGBColor[0, 1, 1]], "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{"Handles", " ", "cases", " ", "of", " ", "subscripts"}], " ", 
      "*)"}], "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       StyleBox["nosubscript",
        Background->RGBColor[0, 1, 1]], "[", 
       RowBox[{"A_", ",", "B_"}], "]"}], ":=", 
      RowBox[{"Module", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"names", ",", "name"}], "}"}], ",", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"names", "=", 
          RowBox[{"{", 
           RowBox[{"A", ",", "B"}], "}"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"name", "=", 
          RowBox[{
           RowBox[{"ToString", "[", 
            RowBox[{"names", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "]"}], "<>", 
           "\"\<\[UnderBracket]\>\"", "<>", 
           RowBox[{"ToString", "[", 
            RowBox[{"names", "[", 
             RowBox[{"[", "2", "]"}], "]"}], "]"}]}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"Return", "[", 
          RowBox[{"Symbol", "[", "name", "]"}], "]"}], ";"}]}], 
       "\[IndentingNewLine]", "]"}]}], ";", 
     StyleBox[
      RowBox[{"(*", " ", 
       RowBox[{"End", " ", 
        RowBox[{"noSubscript", "[", "]"}]}], " ", "*)"}],
      Background->RGBColor[0, 1, 1]], "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       StyleBox["kinlaw",
        Background->RGBColor[0, 1, 1]], 
       StyleBox["[",
        Background->None], 
       StyleBox["str_",
        Background->None], 
       StyleBox["]",
        Background->None]}], ":=", 
      RowBox[{"Module", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
         "fst", ",", "lefths", ",", "pntr", ",", "tokenlist", ",", 
          "tokenhold", ",", "const", ",", "kl"}], "}"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"dPrint", "[", 
          RowBox[{"\"\<kinlaw: str: \>\"", ",", " ", "str"}], "]"}], ";", " ",
          "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"fst", "=", 
          RowBox[{"First", "[", "str", "]"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"fst", "=", 
          RowBox[{"fst", "/.", 
           RowBox[{"{", 
            RowBox[{"ShortRightArrow", "\[Rule]", "Rule"}], "}"}]}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"fst", "=", 
          RowBox[{"ToString", "[", "fst", "]"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"lefths", "=", 
          RowBox[{"StringDrop", "[", 
           RowBox[{"fst", ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"First", "[", 
               RowBox[{"First", "[", 
                RowBox[{"StringPosition", "[", 
                 RowBox[{"fst", ",", "\"\<->\>\""}], "]"}], "]"}], "]"}], ",", 
              RowBox[{"StringLength", "[", "fst", "]"}]}], "}"}]}], "]"}]}], 
         ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"pntr", "=", "1"}], ";", "\[IndentingNewLine]", 
         RowBox[{"tokenlist", "=", 
          RowBox[{"StringSplit", "[", "lefths", "]"}]}], ";", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"While", "[", 
          RowBox[{
           RowBox[{"pntr", "<", 
            RowBox[{"Length", "[", "tokenlist", "]"}]}], ",", 
           "\[IndentingNewLine]", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{
             StyleBox["If",
              Background->None], "[", 
             RowBox[{
              RowBox[{"DigitQ", "[", 
               RowBox[{"Part", "[", 
                RowBox[{"tokenlist", ",", "pntr"}], "]"}], "]"}], ",", 
              "\[IndentingNewLine]", "\[IndentingNewLine]", 
              RowBox[{
               RowBox[{"tokenhold", "=", 
                RowBox[{"Part", "[", 
                 RowBox[{"tokenlist", ",", "pntr"}], "]"}]}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"tokenlist", "=", 
                RowBox[{"Drop", "[", 
                 RowBox[{"tokenlist", ",", 
                  RowBox[{"{", "pntr", "}"}]}], "]"}]}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"tokenlist", "=", 
                RowBox[{"Insert", "[", 
                 RowBox[{"tokenlist", ",", "tokenhold", ",", 
                  RowBox[{"pntr", "+", "1"}]}], "]"}]}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"tokenlist", "=", 
                RowBox[{"Insert", "[", 
                 RowBox[{"tokenlist", ",", "\"\<^\>\"", ",", 
                  RowBox[{"pntr", "+", "1"}]}], "]"}]}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"pntr", "=", 
                RowBox[{"pntr", "+", "3"}]}], ";"}], ",", 
              "\[IndentingNewLine]", "\[IndentingNewLine]", 
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"Part", "[", 
                  RowBox[{"tokenlist", ",", "pntr"}], "]"}], "==", 
                 "\"\<+\>\""}], ",", 
                RowBox[{"(*", " ", 
                 RowBox[{"Else", " ", "If", " ", "case"}], " ", "*)"}], 
                "\[IndentingNewLine]", "\[IndentingNewLine]", 
                RowBox[{
                 RowBox[{"tokenlist", "=", 
                  RowBox[{"ReplacePart", "[", 
                   RowBox[{"tokenlist", ",", "\"\<*\>\"", ",", "pntr"}], 
                   "]"}]}], ";", "\[IndentingNewLine]", 
                 RowBox[{"pntr", "++"}], ";"}], ",", "\[IndentingNewLine]", 
                "\[IndentingNewLine]", 
                RowBox[{
                 RowBox[{"pntr", "++"}], ";"}]}], 
               RowBox[{"(*", " ", 
                RowBox[{"Else", " ", "case"}], " ", "*)"}], 
               "\[IndentingNewLine]", "\[IndentingNewLine]", "]"}]}], 
             StyleBox[
              RowBox[{"(*", " ", 
               RowBox[{"End", " ", "Else", " ", "If", " ", "case"}], " ", 
               "*)"}],
              Background->None], "\[IndentingNewLine]", "]"}], ";"}]}], 
          StyleBox[
           RowBox[{"(*", " ", 
            RowBox[{"End", " ", "If"}], " ", "*)"}],
           Background->None], "\[IndentingNewLine]", "]"}], ";", 
         RowBox[{"(*", " ", 
          RowBox[{"End", " ", "While"}], " ", "*)"}], "\[IndentingNewLine]", 
         "\[IndentingNewLine]", 
         RowBox[{"fst", "=", 
          RowBox[{"StringJoin", "[", "tokenlist", "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"const", "=", 
          RowBox[{"ToString", "[", 
           RowBox[{"Last", "[", "str", "]"}], "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"kl", "=", 
          RowBox[{"StringJoin", "[", 
           RowBox[{"const", ",", "\"\<*\>\"", ",", "fst"}], "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"kl", "=", 
          RowBox[{
           RowBox[{"ToExpression", "[", "kl", "]"}], "/.", 
           RowBox[{"{", 
            RowBox[{"Global`EmptySet", "\[Rule]", " ", "1"}], "}"}]}]}], " ", 
         ";", " ", 
         RowBox[{"(*", " ", 
          RowBox[{"added", " ", "EmptySet", " ", "0.4"}], " ", "*)"}], 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"dPrint", "[", 
          RowBox[{"\"\<kinlaw: kl: \>\"", ",", " ", "kl"}], "]"}], ";", " ", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"Return", "[", "kl", "]"}], ";"}]}], 
       RowBox[{"(*", " ", 
        RowBox[{"Returning", " ", "kinetic", " ", "law"}], " ", "*)"}], 
       "\[IndentingNewLine]", "\[IndentingNewLine]", "]"}]}], ";", 
     StyleBox[
      RowBox[{"(*", " ", 
       RowBox[{"End", " ", 
        RowBox[{"kinLaw", "[", "]"}]}], " ", "*)"}],
      Background->RGBColor[0, 1, 1]], 
     StyleBox["\[IndentingNewLine]",
      Background->None], 
     StyleBox["\[IndentingNewLine]",
      Background->None], 
     RowBox[{
      RowBox[{
       StyleBox["handleMassAction",
        Background->RGBColor[0, 1, 1]], "[", "reaction_", "]"}], ":=", 
      "\[IndentingNewLine]", 
      RowBox[{"Module", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"kLaw", ",", "react"}], "}"}], ",", "\[IndentingNewLine]", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"dPrint", "[", 
          RowBox[{"\"\<handleMassAction: \>\"", ",", " ", "reaction"}], "]"}],
          ";", " ", "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{
          "Getting", " ", "kinetic", " ", "law", " ", "formula", " ", "for", 
           " ", "the", " ", "current", " ", "reaction", " ", "from", " ", 
           "list"}], " ", "*)"}], " ", "\[IndentingNewLine]", 
         RowBox[{"kLaw", "=", 
          RowBox[{"kinlaw", "[", "reaction", "]"}]}], ";", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{
          "Editing", " ", "the", " ", "current", " ", "reaction", " ", "to", 
           " ", "fit", " ", "the", " ", "SBML", " ", "spec", 
           "\[IndentingNewLine]", 
           StyleBox[" ",
            Background->None], 
           StyleBox["This",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["will",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["turn",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["the",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["xCellerator",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["Mass",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["Action",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["arrow",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["into",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["the",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["SBML",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["accepted",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["Rule",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["arrow",
            Background->None]}], 
          StyleBox[" ",
           Background->None], 
          StyleBox["*)",
           Background->None]}], "\[IndentingNewLine]", 
         RowBox[{"react", "=", 
          RowBox[{
           RowBox[{"First", "[", "reaction", "]"}], "/.", 
           RowBox[{"{", 
            RowBox[{"ShortRightArrow", "\[Rule]", "Rule"}], "}"}]}]}], ";", 
         " ", "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"dPrint", "[", 
          RowBox[{"\"\<kLaw: \>\"", ",", "kLaw"}], "]"}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"dPrint", "[", 
          RowBox[{"\"\<reac: \>\"", ",", " ", "react"}], "]"}], ";", " ", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         StyleBox[
          RowBox[{"(*", " ", 
           RowBox[{
           "Adding", " ", "the", " ", "current", " ", "reaction", " ", "to", 
            " ", "the", " ", "model"}], " ", "*)"}],
          Background->RGBColor[0.458824, 0.901961, 0.647059]], 
         "\[IndentingNewLine]", 
         RowBox[{"MathSBML`addReaction", "[", 
          RowBox[{"react", ",", " ", 
           RowBox[{"Global`kineticLaw", "\[Rule]", "kLaw"}]}], "]"}], ";"}]}],
        "\[IndentingNewLine]", "\[IndentingNewLine]", "]"}]}], ";", 
     StyleBox[
      RowBox[{"(*", " ", 
       RowBox[{"End", " ", 
        RowBox[{"handleMassAction", "[", "]"}]}], " ", "*)"}],
      Background->RGBColor[0, 1, 1]], "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       StyleBox["handleMM",
        Background->RGBColor[0, 1, 1]], "[", "reaction_", "]"}], ":=", 
      "\[IndentingNewLine]", 
      RowBox[{"Module", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
         "odes", ",", "kLaw", ",", "react", ",", "modi", ",", "reactprod", 
          ",", "reactant", ",", "product"}], "}"}], ",", 
        "\[IndentingNewLine]", "\[IndentingNewLine]", 
        RowBox[{"(*", " ", 
         RowBox[{
         "A", " ", "list", " ", "of", " ", "kinetic", " ", "laws", " ", "for",
           " ", "the", " ", "reaction"}], " ", "*)"}], 
        StyleBox["\[IndentingNewLine]",
         Background->RGBColor[1, 1, 0]], 
        RowBox[{
         RowBox[{"odes", "=", 
          RowBox[{"xlr8r`Private`parseArrowForm", "[", "reaction", "]"}]}], 
         ";", " ", "\[IndentingNewLine]", 
         RowBox[{"odes", "=", 
          RowBox[{"odes", "/.", 
           RowBox[{"{", 
            RowBox[{"xlr8r`Bind", "\[Rule]", "mybind"}], "}"}]}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{"Removing", " ", "any", " ", "cases", " ", "of", " ", 
           RowBox[{"0", "'"}], "s"}], " ", "*)"}], "\[IndentingNewLine]", 
         RowBox[{"odes", "=", 
          RowBox[{"Select", "[", 
           RowBox[{"odes", ",", " ", 
            RowBox[{
             RowBox[{"FreeQ", "[", 
              RowBox[{"#", ",", "0"}], "]"}], "&"}]}], "]"}]}], ";", 
         RowBox[{"(*", " ", 
          RowBox[{
          "Getting", " ", "kinetic", " ", "law", " ", "formula", " ", "for", 
           " ", "the", " ", "current", " ", "reaction", " ", "from", " ", 
           "list"}], " ", "*)"}], " ", "\[IndentingNewLine]", 
         RowBox[{"kLaw", "=", 
          RowBox[{"Last", "[", 
           RowBox[{"First", "[", "odes", "]"}], "]"}]}], ";", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{
          "Adjusting", " ", "xCellerator", " ", "formula", " ", "to", " ", 
           "fit", " ", "SBML", " ", "spec"}], " ", "*)"}], 
         StyleBox["\[IndentingNewLine]",
          Background->RGBColor[0, 1, 1]], 
         RowBox[{"(*", " ", 
          RowBox[{"This", " ", "will", " ", "get", " ", "rid", " ", "of", " ", 
           RowBox[{"xCellerator", "'"}], 
           RowBox[{
            RowBox[{"s", " ", "[", "t", "]"}], "'"}], "s"}], " ", "*)"}], 
         "\[IndentingNewLine]", 
         RowBox[{"kLaw", "=", 
          RowBox[{"ToExpression", "[", 
           RowBox[{"StringReplace", "[", 
            RowBox[{
             RowBox[{"ToString", "[", 
              RowBox[{"InputForm", "[", "kLaw", "]"}], "]"}], ",", 
             RowBox[{"{", 
              RowBox[{"\"\<[t]\>\"", "\[Rule]", " ", "\"\<\>\""}], "}"}]}], 
            "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{"Removing", " ", "negative", " ", "if", " ", "applicable"}],
           " ", "*)"}], "\[IndentingNewLine]", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"First", "[", "kLaw", "]"}], "<", "0"}], ",", 
           "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"kLaw", "=", 
             RowBox[{"kLaw", "*", 
              RowBox[{"-", "1"}]}]}], ";"}]}], "\[IndentingNewLine]", "]"}], 
         ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"react", "=", 
          RowBox[{"First", "[", "reaction", "]"}]}], ";", " ", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"StringCount", "[", 
             RowBox[{
              RowBox[{"ToString", "[", 
               RowBox[{"FullForm", "[", "react", "]"}], "]"}], ",", 
              "\"\<Overscript\>\""}], "]"}], " ", "\[GreaterEqual]", "1"}], 
           ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
           RowBox[{"(*", " ", 
            RowBox[{
             RowBox[{"If", " ", "overscript", " ", "Michaelis"}], "-", 
             RowBox[{"Menten", " ", "arrow"}]}], " ", "*)"}], 
           "\[IndentingNewLine]", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"modi", "=", 
             RowBox[{"Last", "[", "react", "]"}]}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"reactprod", "=", 
             RowBox[{"First", "[", "react", "]"}]}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"reactant", "=", 
             RowBox[{"First", "[", "reactprod", "]"}]}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"product", " ", "=", " ", 
             RowBox[{"Last", "[", "reactprod", "]"}]}], ";", 
            "\[IndentingNewLine]", "\[IndentingNewLine]", 
            RowBox[{"(*", " ", 
             RowBox[{
              RowBox[{
              "Editing", " ", "the", " ", "current", " ", "reaction", " ", 
               "to", " ", "fit", " ", "the", " ", "SBML", " ", "spec", 
               "\[IndentingNewLine]", 
               StyleBox[" ",
                Background->None], 
               StyleBox["This",
                Background->None], 
               StyleBox[" ",
                Background->None], 
               StyleBox["will",
                Background->None], 
               StyleBox[" ",
                Background->None], 
               StyleBox["turn",
                Background->None], 
               StyleBox[" ",
                Background->None], 
               StyleBox["the",
                Background->None], 
               StyleBox[" ",
                Background->None], 
               StyleBox["xCellerator",
                Background->None], 
               StyleBox[" ",
                Background->None], 
               StyleBox["Michaelis",
                Background->None]}], 
              StyleBox["-",
               Background->None], 
              StyleBox[
               RowBox[{
               "Menten", " ", "arrow", " ", "into", " ", "the", " ", "SBML", 
                " ", "accepted", " ", "Rule", " ", "arrow"}],
               Background->None]}], 
             StyleBox[" ",
              Background->None], 
             StyleBox["*)",
              Background->None]}], "\[IndentingNewLine]", 
            RowBox[{"react", "=", 
             RowBox[{
              RowBox[{"First", "[", "react", "]"}], "/.", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"DoubleLongRightArrow", "\[Rule]", "Rule"}], ",", " ", 
                RowBox[{"DoubleLongLeftRightArrow", "\[Rule]", "Rule"}]}], 
               "}"}]}]}], ";", " ", 
            RowBox[{"(*", " ", 
             RowBox[{"Getting", " ", "rid", " ", "of", " ", "overscripts"}], 
             " ", "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
            "\[IndentingNewLine]", 
            StyleBox[
             RowBox[{"(*", " ", 
              RowBox[{
              "Adding", " ", "the", " ", "current", " ", "reaction", " ", 
               "to", " ", "the", " ", "model"}], " ", "*)"}],
             Background->RGBColor[0.458824, 0.901961, 0.647059]], 
            "\[IndentingNewLine]", 
            RowBox[{"MathSBML`addReaction", "[", 
             RowBox[{"react", ",", " ", 
              RowBox[{"Global`kineticLaw", "\[Rule]", "kLaw"}], ",", " ", 
              RowBox[{"Global`modifiers", "\[Rule]", 
               RowBox[{"{", "modi", "}"}]}], ",", 
              RowBox[{"Global`products", "\[Rule]", 
               RowBox[{"{", "product", "}"}]}], ",", 
              RowBox[{"Global`reactants", "\[Rule]", 
               RowBox[{"{", "reactant", "}"}]}]}], " ", "]"}], ";"}], 
           "\[IndentingNewLine]", "\[IndentingNewLine]", ",", 
           RowBox[{"(*", " ", 
            RowBox[{
             RowBox[{"Else", " ", "no", " ", "overscript", " ", "Michaelis"}],
              "-", 
             RowBox[{"Menten", " ", "arrow"}]}], " ", "*)"}], 
           "\[IndentingNewLine]", "\[IndentingNewLine]", 
           RowBox[{"(*", " ", 
            RowBox[{
             RowBox[{"Finding", " ", "modifiers"}], ",", " ", "products", ",",
              " ", 
             RowBox[{"and", " ", "reactants"}]}], " ", "*)"}], 
           "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"reactant", "=", 
             RowBox[{"First", "[", "react", "]"}]}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"product", "=", 
             RowBox[{"Last", "[", "react", "]"}]}], ";", 
            "\[IndentingNewLine]", "\[IndentingNewLine]", 
            RowBox[{"(*", " ", 
             RowBox[{
              RowBox[{
              "Editing", " ", "the", " ", "current", " ", "reaction", " ", 
               "to", " ", "fit", " ", "the", " ", "SBML", " ", "spec", 
               "\[IndentingNewLine]", 
               StyleBox[" ",
                Background->None], 
               StyleBox["This",
                Background->None], 
               StyleBox[" ",
                Background->None], 
               StyleBox["will",
                Background->None], 
               StyleBox[" ",
                Background->None], 
               StyleBox["turn",
                Background->None], 
               StyleBox[" ",
                Background->None], 
               StyleBox["the",
                Background->None], 
               StyleBox[" ",
                Background->None], 
               StyleBox["xCellerator",
                Background->None], 
               StyleBox[" ",
                Background->None], 
               StyleBox["Michaelis",
                Background->None]}], 
              StyleBox["-",
               Background->None], 
              StyleBox[
               RowBox[{
               "Menten", " ", "arrow", " ", "into", " ", "the", " ", "SBML", 
                " ", "accepted", " ", "Rule", " ", "arrow"}],
               Background->None]}], 
             StyleBox[" ",
              Background->None], 
             StyleBox["*)",
              Background->None]}], "\[IndentingNewLine]", 
            RowBox[{"react", "=", 
             RowBox[{"react", "/.", 
              RowBox[{"{", 
               RowBox[{"DoubleLongRightArrow", "\[Rule]", "Rule"}], "}"}]}]}],
             ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
            "\[IndentingNewLine]", 
            StyleBox[
             RowBox[{"(*", " ", 
              RowBox[{
              "Adding", " ", "the", " ", "current", " ", "reaction", " ", 
               "to", " ", "the", " ", "model"}], " ", "*)"}],
             Background->RGBColor[0.458824, 0.901961, 0.647059]], 
            "\[IndentingNewLine]", 
            RowBox[{"MathSBML`addReaction", "[", 
             RowBox[{"react", ",", " ", 
              RowBox[{"Global`kineticLaw", "\[Rule]", "kLaw"}], ",", " ", 
              RowBox[{"Global`products", "\[Rule]", 
               RowBox[{"{", "product", "}"}]}], ",", 
              RowBox[{"Global`reactants", "\[Rule]", 
               RowBox[{"{", "reactant", "}"}]}]}], " ", "]"}], ";"}]}], 
          "\[IndentingNewLine]", "\[IndentingNewLine]", "]"}], ";"}]}], 
       RowBox[{"(*", " ", 
        RowBox[{"End", " ", 
         RowBox[{"If", "[", "]"}]}], " ", "*)"}], "\[IndentingNewLine]", 
       "\[IndentingNewLine]", "]"}]}], ";", 
     StyleBox[
      RowBox[{"(*", " ", 
       RowBox[{"End", " ", 
        RowBox[{"handleMM", "[", "]"}]}], " ", "*)"}],
      Background->RGBColor[0, 1, 1]], "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       StyleBox["handleHill",
        Background->RGBColor[0, 1, 1]], "[", "reaction_", "]"}], ":=", 
      "\[IndentingNewLine]", 
      RowBox[{"Module", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
         "odes", ",", "kLaw", ",", "reactant", ",", "modi", ",", "product"}], 
         " ", "}"}], ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
        RowBox[{"(*", " ", 
         RowBox[{
         "A", " ", "list", " ", "of", " ", "kinetic", " ", "laws", " ", "for",
           " ", "the", " ", "reaction"}], " ", "*)"}], 
        StyleBox["\[IndentingNewLine]",
         Background->RGBColor[1, 1, 0]], 
        RowBox[{
         RowBox[{"odes", "=", 
          RowBox[{"xlr8r`Private`parseArrowForm", "[", "reaction", "]"}]}], 
         ";", " ", "\[IndentingNewLine]", 
         RowBox[{"odes", "=", 
          RowBox[{"odes", "/.", 
           RowBox[{"{", 
            RowBox[{"xlr8r`Bind", "\[Rule]", "mybind"}], "}"}]}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{"Removing", " ", "any", " ", "cases", " ", "of", " ", 
           RowBox[{"0", "'"}], "s"}], " ", "*)"}], "\[IndentingNewLine]", 
         RowBox[{"odes", "=", 
          RowBox[{"Select", "[", 
           RowBox[{"odes", ",", " ", 
            RowBox[{
             RowBox[{"FreeQ", "[", 
              RowBox[{"#", ",", "0"}], "]"}], "&"}]}], "]"}]}], ";", 
         RowBox[{"(*", " ", 
          RowBox[{
          "Getting", " ", "kinetic", " ", "law", " ", "formula", " ", "for", 
           " ", "the", " ", "current", " ", "reaction", " ", "from", " ", 
           "list"}], " ", "*)"}], " ", "\[IndentingNewLine]", 
         RowBox[{"kLaw", "=", 
          RowBox[{"Last", "[", 
           RowBox[{"First", "[", "odes", "]"}], "]"}]}], ";", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{
          "Adjusting", " ", "xCellerator", " ", "formula", " ", "to", " ", 
           "fit", " ", "SBML", " ", "spec"}], " ", "*)"}], 
         "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{"This", " ", "will", " ", "get", " ", "rid", " ", "of", " ", 
           RowBox[{"xCellerator", "'"}], 
           RowBox[{
            RowBox[{"s", " ", "[", "t", "]"}], "'"}], "s"}], " ", "*)"}], 
         "\[IndentingNewLine]", 
         RowBox[{"kLaw", "=", 
          RowBox[{"ToExpression", "[", 
           RowBox[{"StringReplace", "[", 
            RowBox[{
             RowBox[{"ToString", "[", 
              RowBox[{"InputForm", "[", "kLaw", "]"}], "]"}], ",", 
             RowBox[{"{", 
              RowBox[{"\"\<[t]\>\"", "\[Rule]", " ", "\"\<\>\""}], "}"}]}], 
            "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{"Removing", " ", "negative", " ", "if", " ", "applicable"}],
           " ", "*)"}], "\[IndentingNewLine]", "\t", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"First", "[", "kLaw", "]"}], "<", "0"}], ",", 
           "\[IndentingNewLine]", "\t\t", 
           RowBox[{
            RowBox[{"kLaw", "=", 
             RowBox[{"kLaw", "*", 
              RowBox[{"-", "1"}]}]}], ";"}]}], "\[IndentingNewLine]", "\t", 
          "]"}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"react", "=", 
          RowBox[{"First", "[", "reaction", "]"}]}], ";", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"StringCount", "[", 
             RowBox[{
              RowBox[{"ToString", "[", 
               RowBox[{"FullForm", "[", "react", "]"}], "]"}], ",", 
              "\"\<Overscript\>\""}], "]"}], " ", "\[GreaterEqual]", "1"}], 
           ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
           RowBox[{"(*", " ", 
            RowBox[{"If", " ", "Catalytic", " ", "Hill", " ", "reaction"}], 
            " ", "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
           RowBox[{"(*", " ", 
            RowBox[{
             RowBox[{"Finding", " ", "modifiers"}], ",", " ", "products", ",",
              " ", 
             RowBox[{"and", " ", "reactants"}]}], " ", "*)"}], 
           "\[IndentingNewLine]", 
           RowBox[{"(*", " ", "Reactants", " ", "*)"}], "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"reactant", "=", 
             RowBox[{"First", "[", 
              RowBox[{"First", "[", "react", "]"}], "]"}]}], ";", 
            "\[IndentingNewLine]", "\[IndentingNewLine]", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"StringCount", "[", 
                RowBox[{
                 RowBox[{"ToString", "[", "reactant", "]"}], ",", " ", 
                 "\"\<,\>\""}], "]"}], "\[GreaterEqual]", "1"}], ",", 
              RowBox[{"(*", " ", 
               RowBox[{"If", " ", 
                RowBox[{"{", 
                 RowBox[{"A1", ",", " ", "A2", ",", " ", "A3"}], "}"}], " ", 
                "case"}], " ", "*)"}], "\[IndentingNewLine]", 
              "\[IndentingNewLine]", 
              RowBox[{
               RowBox[{"reactant", "=", "reactant"}], ";"}], 
              "\[IndentingNewLine]", "\[IndentingNewLine]", ",", 
              RowBox[{"(*", " ", "Else", " ", "*)"}], "\[IndentingNewLine]", 
              "\[IndentingNewLine]", 
              RowBox[{
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"StringCount", "[", 
                   RowBox[{
                    RowBox[{"ToString", "[", "reactant", "]"}], ",", " ", 
                    "\"\<+\>\""}], "]"}], "\[GreaterEqual]", "1"}], ",", 
                 RowBox[{"(*", " ", 
                  RowBox[{
                   RowBox[{"If", " ", "A1"}], "+", "A2", "+", 
                   RowBox[{"A3", " ", "case"}]}], " ", "*)"}], 
                 "\[IndentingNewLine]", "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{"reactant", "=", 
                   RowBox[{"StringReplace", "[", 
                    RowBox[{
                    RowBox[{"ToString", "[", "reactant", "]"}], ",", 
                    RowBox[{"\"\<+\>\"", "\[Rule]", " ", "\"\<,\>\""}]}], 
                    "]"}]}], ";", "\[IndentingNewLine]", 
                  RowBox[{"reactant", "=", 
                   RowBox[{"StringInsert", "[", 
                    RowBox[{"reactant", ",", " ", "\"\<{\>\"", ",", "1"}], 
                    "]"}]}], ";", "\[IndentingNewLine]", 
                  RowBox[{"reactant", "=", 
                   RowBox[{"ToExpression", "[", 
                    RowBox[{"reactant", "=", 
                    RowBox[{"StringInsert", "[", 
                    RowBox[{"reactant", ",", "\"\<}\>\"", ",", " ", 
                    RowBox[{
                    RowBox[{"StringLength", "[", "reactant", "]"}], "+", 
                    "1"}]}], "]"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
                 "\[IndentingNewLine]", ",", 
                 RowBox[{"(*", " ", "Else", " ", "*)"}], 
                 "\[IndentingNewLine]", "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{"If", "[", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"StringCount", "[", 
                    RowBox[{
                    RowBox[{"ToString", "[", "reactant", "]"}], ",", " ", 
                    "\"\<{\>\""}], "]"}], "\[GreaterEqual]", "1"}], ",", 
                    RowBox[{"(*", " ", 
                    RowBox[{"If", " ", 
                    RowBox[{"{", 
                    RowBox[{"A1", " ", "A2", " ", "A3"}], "}"}], " ", 
                    "case"}], " ", "*)"}], "\[IndentingNewLine]", 
                    "\[IndentingNewLine]", 
                    RowBox[{"reactant", "=", 
                    RowBox[{"ToExpression", "[", 
                    RowBox[{"StringReplace", "[", 
                    RowBox[{
                    RowBox[{"ToString", "[", "reactant", "]"}], ",", 
                    RowBox[{"\"\< \>\"", "->", "\"\<,\>\""}]}], "]"}], 
                    "]"}]}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
                    ",", 
                    RowBox[{"(*", " ", "Else", " ", "*)"}], 
                    "\[IndentingNewLine]", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"StringCount", "[", 
                    RowBox[{
                    RowBox[{"ToString", "[", 
                    RowBox[{"FullForm", "[", "reactant", "]"}], "]"}], ",", 
                    " ", "\"\<Times[\>\""}], "]"}], "\[GreaterEqual]", "1"}], 
                    ",", " ", 
                    RowBox[{"(*", " ", 
                    RowBox[{
                    "If", " ", "A1", " ", "A2", " ", "A3", " ", "case"}], " ",
                     "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"reactant", "=", 
                    RowBox[{"ToString", "[", 
                    RowBox[{"FullForm", "[", "reactant", "]"}], "]"}]}], ";", 
                    "\[IndentingNewLine]", 
                    RowBox[{"reactant", "=", 
                    RowBox[{"StringReplace", "[", 
                    RowBox[{
                    RowBox[{"ToString", "[", "reactant", "]"}], ",", 
                    RowBox[{"\"\<Times[\>\"", "->", "\"\<{\>\""}]}], "]"}]}], 
                    ";", "\[IndentingNewLine]", 
                    RowBox[{"reactant", "=", 
                    RowBox[{"StringReplace", "[", 
                    RowBox[{
                    RowBox[{"ToString", "[", "reactant", "]"}], ",", 
                    RowBox[{"\"\<]\>\"", "->", "\"\<}\>\""}]}], "]"}]}], ";", 
                    "\[IndentingNewLine]", 
                    RowBox[{"reactant", "=", 
                    RowBox[{"ToExpression", "[", "reactant", "]"}]}], ";"}], 
                    ",", 
                    RowBox[{"(*", " ", 
                    RowBox[{"Else", " ", "A", " ", "case"}], " ", "*)"}], 
                    "\[IndentingNewLine]", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"reactant", "=", "reactant"}], ";"}]}], 
                    "\[IndentingNewLine]", "\[IndentingNewLine]", "]"}], 
                    ";"}]}], 
                   RowBox[{"(*", " ", 
                    RowBox[{"End", " ", "A1", " ", "A2", " ", "A3", " ", 
                    RowBox[{"If", "[", "]"}]}], " ", "*)"}], 
                   "\[IndentingNewLine]", "\[IndentingNewLine]", "]"}], 
                  ";"}]}], 
                RowBox[{"(*", " ", 
                 RowBox[{"End", " ", 
                  RowBox[{"{", 
                   RowBox[{"A1", " ", "A2", " ", "A3"}], "}"}], " ", 
                  RowBox[{"If", "[", "]"}]}], " ", "*)"}], 
                "\[IndentingNewLine]", "\[IndentingNewLine]", "]"}], ";"}]}], 
             
             RowBox[{"(*", " ", 
              RowBox[{
               RowBox[{"End", " ", "A1"}], "+", "A2", "+", 
               RowBox[{"A3", " ", 
                RowBox[{"If", "[", "]"}]}]}], " ", "*)"}], 
             "\[IndentingNewLine]", "\[IndentingNewLine]", "]"}], ";", 
            RowBox[{"(*", " ", 
             RowBox[{"End", " ", 
              RowBox[{"{", 
               RowBox[{"A1", ",", " ", "A2", ",", " ", "A3"}], "}"}], " ", 
              RowBox[{"If", "[", "]"}]}], " ", "*)"}], "\[IndentingNewLine]", 
            "\[IndentingNewLine]", 
            RowBox[{"(*", " ", "Modifiers", " ", "*)"}], 
            "\[IndentingNewLine]", 
            RowBox[{"modi", "=", 
             RowBox[{"Last", "[", "react", "]"}]}], ";", 
            "\[IndentingNewLine]", "\[IndentingNewLine]", 
            RowBox[{"(*", " ", 
             RowBox[{
             "Editing", " ", "the", " ", "current", " ", "reaction", " ", 
              "to", " ", "fit", " ", "the", " ", "SBML", " ", "spec", 
              "\[IndentingNewLine]", 
              StyleBox[" ",
               Background->None], 
              StyleBox["This",
               Background->None], 
              StyleBox[" ",
               Background->None], 
              StyleBox["will",
               Background->None], 
              StyleBox[" ",
               Background->None], 
              StyleBox["turn",
               Background->None], 
              StyleBox[" ",
               Background->None], 
              StyleBox["the",
               Background->None], 
              StyleBox[" ",
               Background->None], 
              StyleBox["xCellerator",
               Background->None], 
              StyleBox[" ",
               Background->None], "Hill", 
              StyleBox[" ",
               Background->None], 
              StyleBox["arrow",
               Background->None], 
              StyleBox[" ",
               Background->None], 
              StyleBox["into",
               Background->None], 
              StyleBox[" ",
               Background->None], 
              StyleBox["the",
               Background->None], 
              StyleBox[" ",
               Background->None], 
              StyleBox["SBML",
               Background->None], 
              StyleBox[" ",
               Background->None], 
              StyleBox["accepted",
               Background->None], 
              StyleBox[" ",
               Background->None], 
              StyleBox["Rule",
               Background->None], 
              StyleBox[" ",
               Background->None], 
              StyleBox["arrow",
               Background->None]}], 
             StyleBox[" ",
              Background->None], 
             StyleBox["*)",
              Background->None]}], "\[IndentingNewLine]", 
            RowBox[{"react", "=", 
             RowBox[{
              RowBox[{"First", "[", "react", "]"}], "/.", 
              RowBox[{"{", 
               RowBox[{"RightTeeArrow", "\[Rule]", "Rule"}], "}"}]}]}], ";", 
            " ", 
            RowBox[{"(*", " ", 
             RowBox[{"Getting", " ", "rid", " ", "of", " ", "overscripts"}], 
             " ", "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
            RowBox[{"(*", " ", "Products", " ", "*)"}], "\[IndentingNewLine]", 
            RowBox[{"product", "=", 
             RowBox[{"Last", "[", "react", "]"}]}], ";", 
            "\[IndentingNewLine]", "\[IndentingNewLine]", 
            StyleBox[
             RowBox[{"(*", " ", 
              RowBox[{
              "Adding", " ", "the", " ", "current", " ", "reaction", " ", 
               "to", " ", "the", " ", "model"}], " ", "*)"}],
             Background->RGBColor[0.458824, 0.901961, 0.647059]], 
            "\[IndentingNewLine]", 
            RowBox[{"MathSBML`addReaction", "[", 
             RowBox[{"react", ",", " ", 
              RowBox[{"Global`kineticLaw", "\[Rule]", "kLaw"}], ",", " ", 
              RowBox[{"Global`modifiers", "\[Rule]", 
               RowBox[{"{", "modi", "}"}]}], ",", 
              RowBox[{"Global`products", "\[Rule]", 
               RowBox[{"{", "product", "}"}]}], ",", " ", 
              RowBox[{"Global`reactants", "\[Rule]", 
               RowBox[{"{", "reactant", "}"}]}]}], "]"}], ";"}], 
           "\[IndentingNewLine]", "\[IndentingNewLine]", ",", 
           RowBox[{"(*", " ", 
            RowBox[{"Else", " ", "Regulatory", " ", "Hill", " ", "reaction"}],
             " ", "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
           RowBox[{"(*", " ", 
            RowBox[{"Finding", " ", "Reg", " ", "Hill", " ", "case"}], " ", 
            "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
           RowBox[{"(*", " ", 
            RowBox[{"If", " ", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"A1", "\[RightTeeArrow]", "B"}], ",", 
                 RowBox[{"hill", "[", "...", "]"}]}], "}"}], ",", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"A2", "\[RightTeeArrow]", "B"}], ",", 
                 RowBox[{"hill", "[", "...", "]"}]}], "}"}], ",", "..."}], 
              "}"}], " ", "case"}], " ", "*)"}], "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"StringCount", "[", 
                RowBox[{
                 RowBox[{"ToString", "[", "reaction", "]"}], ",", " ", 
                 "\"\<hill\>\""}], "]"}], "\[GreaterEqual]", " ", "2"}], ",", 
              "\[IndentingNewLine]", "\[IndentingNewLine]", 
              RowBox[{
               RowBox[{"For", "[", 
                RowBox[{
                 RowBox[{"i", "=", "1"}], ",", 
                 RowBox[{"i", "\[LessEqual]", 
                  RowBox[{"Length", "[", "reaction", "]"}]}], ",", 
                 RowBox[{"i", "++"}], ",", "\[IndentingNewLine]", 
                 "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{"react", "=", 
                   RowBox[{"Part", "[", 
                    RowBox[{"reaction", ",", "i"}], "]"}]}], ";", 
                  "\[IndentingNewLine]", 
                  RowBox[{"react", "=", 
                   RowBox[{"First", "[", "react", "]"}]}], ";", 
                  "\[IndentingNewLine]", 
                  RowBox[{"modi", "=", 
                   RowBox[{"First", "[", "react", "]"}]}], ";", 
                  "\[IndentingNewLine]", 
                  RowBox[{"product", "=", 
                   RowBox[{"Last", "[", "react", "]"}]}], ";", 
                  "\[IndentingNewLine]", "\[IndentingNewLine]", 
                  RowBox[{"(*", " ", 
                   RowBox[{
                   "Editing", " ", "the", " ", "current", " ", "reaction", 
                    " ", "to", " ", "fit", " ", "the", " ", "SBML", " ", 
                    "spec", "\[IndentingNewLine]", 
                    StyleBox[" ",
                    Background->None], 
                    StyleBox["This",
                    Background->None], 
                    StyleBox[" ",
                    Background->None], 
                    StyleBox["will",
                    Background->None], 
                    StyleBox[" ",
                    Background->None], 
                    StyleBox["turn",
                    Background->None], 
                    StyleBox[" ",
                    Background->None], 
                    StyleBox["the",
                    Background->None], 
                    StyleBox[" ",
                    Background->None], 
                    StyleBox["xCellerator",
                    Background->None], 
                    StyleBox[" ",
                    Background->None], "Hill", 
                    StyleBox[" ",
                    Background->None], 
                    StyleBox["arrow",
                    Background->None], 
                    StyleBox[" ",
                    Background->None], 
                    StyleBox["into",
                    Background->None], 
                    StyleBox[" ",
                    Background->None], 
                    StyleBox["the",
                    Background->None], 
                    StyleBox[" ",
                    Background->None], 
                    StyleBox["SBML",
                    Background->None], 
                    StyleBox[" ",
                    Background->None], 
                    StyleBox["accepted",
                    Background->None], 
                    StyleBox[" ",
                    Background->None], 
                    StyleBox["Rule",
                    Background->None], 
                    StyleBox[" ",
                    Background->None], 
                    StyleBox["arrow",
                    Background->None]}], 
                   StyleBox[" ",
                    Background->None], 
                   StyleBox["*)",
                    Background->None]}], "\[IndentingNewLine]", 
                  RowBox[{"react", "=", 
                   RowBox[{
                    RowBox[{"First", "[", "react", "]"}], "/.", 
                    RowBox[{"{", 
                    RowBox[{"RightTeeArrow", "\[Rule]", "Rule"}], "}"}]}]}], 
                  ";", " ", 
                  RowBox[{"(*", " ", 
                   RowBox[{
                   "Getting", " ", "rid", " ", "of", " ", "overscripts"}], 
                   " ", "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
                  
                  StyleBox[
                   RowBox[{"(*", " ", 
                    RowBox[{
                    "Adding", " ", "the", " ", "current", " ", "reaction", 
                    " ", "to", " ", "the", " ", "model"}], " ", "*)"}],
                   Background->RGBColor[0.458824, 0.901961, 0.647059]], 
                  "\[IndentingNewLine]", 
                  RowBox[{"MathSBML`addReaction", "[", 
                   RowBox[{"react", ",", " ", 
                    RowBox[{"Global`kineticLaw", "\[Rule]", "kLaw"}], ",", 
                    " ", 
                    RowBox[{"Global`modifiers", "\[Rule]", 
                    RowBox[{"{", "modi", "}"}]}], ",", 
                    RowBox[{"Global`products", "\[Rule]", 
                    RowBox[{"{", "product", "}"}]}]}], "]"}], ";"}]}], 
                "\[IndentingNewLine]", "\[IndentingNewLine]", "]"}], ";"}], 
              RowBox[{"(*", " ", 
               RowBox[{"End", " ", "For", " ", "loop"}], " ", "*)"}], 
              "\[IndentingNewLine]", "\[IndentingNewLine]", ",", 
              RowBox[{"(*", " ", 
               RowBox[{"Else", " ", "If", " ", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"{", 
                    RowBox[{"A1", ",", "A2", ",", "..."}], "}"}], 
                   "\[RightTeeArrow]", "B"}], ",", 
                  RowBox[{"hill", "[", "...", "]"}]}], "}"}], " ", "case"}], 
               " ", "*)"}], "\[IndentingNewLine]", 
              RowBox[{
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"StringCount", "[", 
                   RowBox[{
                    RowBox[{"ToString", "[", 
                    RowBox[{"First", "[", "reaction", "]"}], "]"}], ",", 
                    "\"\<{\>\""}], "]"}], "==", "1"}], ",", 
                 "\[IndentingNewLine]", "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{"react", "=", 
                   RowBox[{"First", "[", "reaction", "]"}]}], ";", 
                  "\[IndentingNewLine]", 
                  RowBox[{"modilist", "=", 
                   RowBox[{"First", "[", "react", "]"}]}], ";", 
                  "\[IndentingNewLine]", 
                  RowBox[{"product", "=", 
                   RowBox[{"Last", "[", "react", "]"}]}], ";", 
                  "\[IndentingNewLine]", "\[IndentingNewLine]", 
                  RowBox[{"For", "[", 
                   RowBox[{
                    RowBox[{"i", "=", "1"}], ",", 
                    RowBox[{"i", "\[LessEqual]", 
                    RowBox[{"Length", "[", "modilist", "]"}]}], ",", 
                    RowBox[{"i", "++"}], ",", "\[IndentingNewLine]", 
                    "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"modi", "=", "modilist"}], ";", 
                    "\[IndentingNewLine]", 
                    RowBox[{"react", "=", 
                    RowBox[{"ToExpression", "[", 
                    RowBox[{
                    RowBox[{"ToString", "[", "modi", "]"}], "<>", 
                    "\"\<\[Rule]\>\"", "<>", 
                    RowBox[{"ToString", "[", "product", "]"}]}], "]"}]}], ";",
                     "\[IndentingNewLine]", "\[IndentingNewLine]", 
                    StyleBox[
                    RowBox[{"(*", " ", 
                    RowBox[{
                    "Adding", " ", "the", " ", "current", " ", "reaction", 
                    " ", "to", " ", "the", " ", "model"}], " ", "*)"}],
                    Background->RGBColor[0.458824, 0.901961, 0.647059]], 
                    "\[IndentingNewLine]", 
                    RowBox[{"MathSBML`addReaction", "[", 
                    RowBox[{"react", ",", 
                    RowBox[{"Global`kineticLaw", "\[Rule]", "kLaw"}], ",", 
                    " ", 
                    RowBox[{"Global`modifiers", "\[Rule]", 
                    RowBox[{"{", "modi", "}"}]}], ",", 
                    RowBox[{"Global`products", "\[Rule]", 
                    RowBox[{"{", "product", "}"}]}]}], "]"}], ";"}]}], 
                   "\[IndentingNewLine]", "\[IndentingNewLine]", "]"}], ";"}], 
                 RowBox[{"(*", " ", 
                  RowBox[{"End", " ", "For", " ", "loop"}], " ", "*)"}], 
                 "\[IndentingNewLine]", "\[IndentingNewLine]", ",", 
                 RowBox[{"(*", " ", 
                  RowBox[{"Else", " ", 
                   RowBox[{"{", 
                    RowBox[{
                    RowBox[{"A", "\[RightTeeArrow]", "B"}], ",", 
                    RowBox[{"hill", "[", "...", "]"}]}], "}"}], " ", "case"}],
                   " ", "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
                 
                 RowBox[{
                  RowBox[{"react", "=", 
                   RowBox[{"First", "[", "reaction", "]"}]}], ";", 
                  "\[IndentingNewLine]", 
                  RowBox[{"modi", "=", 
                   RowBox[{"First", "[", "react", "]"}]}], ";", 
                  "\[IndentingNewLine]", 
                  RowBox[{"product", "=", 
                   RowBox[{"Last", "[", "react", "]"}]}], ";", 
                  "\[IndentingNewLine]", "\[IndentingNewLine]", 
                  RowBox[{"(*", " ", 
                   RowBox[{
                   "Editing", " ", "the", " ", "current", " ", "reaction", 
                    " ", "to", " ", "fit", " ", "the", " ", "SBML", " ", 
                    "spec"}], " ", "*)"}], "\[IndentingNewLine]", 
                  StyleBox[" ",
                   Background->None], 
                  RowBox[{
                   StyleBox["(*",
                    Background->None], 
                   StyleBox[" ",
                    Background->None], 
                   RowBox[{
                    StyleBox["This",
                    Background->None], 
                    StyleBox[" ",
                    Background->None], 
                    StyleBox["will",
                    Background->None], 
                    StyleBox[" ",
                    Background->None], 
                    StyleBox["turn",
                    Background->None], 
                    StyleBox[" ",
                    Background->None], 
                    StyleBox["the",
                    Background->None], 
                    StyleBox[" ",
                    Background->None], 
                    StyleBox["xCellerator",
                    Background->None], 
                    StyleBox[" ",
                    Background->None], "Hill", 
                    StyleBox[" ",
                    Background->None], 
                    StyleBox["arrow",
                    Background->None], 
                    StyleBox[" ",
                    Background->None], 
                    StyleBox["into",
                    Background->None], 
                    StyleBox[" ",
                    Background->None], 
                    StyleBox["the",
                    Background->None], 
                    StyleBox[" ",
                    Background->None], 
                    StyleBox["SBML",
                    Background->None], 
                    StyleBox[" ",
                    Background->None], 
                    StyleBox["accepted",
                    Background->None], 
                    StyleBox[" ",
                    Background->None], 
                    StyleBox["Rule",
                    Background->None], 
                    StyleBox[" ",
                    Background->None], 
                    StyleBox["arrow",
                    Background->None]}], 
                   StyleBox[" ",
                    Background->None], 
                   StyleBox["*)",
                    Background->None]}], "\[IndentingNewLine]", 
                  RowBox[{"react", "=", 
                   RowBox[{"react", "/.", 
                    RowBox[{"{", 
                    RowBox[{"RightTeeArrow", "\[Rule]", "Rule"}], "}"}]}]}], 
                  ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
                  StyleBox[
                   RowBox[{"(*", " ", 
                    RowBox[{
                    "Adding", " ", "the", " ", "current", " ", "reaction", 
                    " ", "to", " ", "the", " ", "model"}], " ", "*)"}],
                   Background->RGBColor[0.458824, 0.901961, 0.647059]], 
                  "\[IndentingNewLine]", 
                  RowBox[{"MathSBML`addReaction", "[", 
                   RowBox[{"react", ",", " ", 
                    RowBox[{"Global`kineticLaw", "\[Rule]", "kLaw"}], ",", 
                    " ", 
                    RowBox[{"Global`modifiers", "\[Rule]", 
                    RowBox[{"{", "modi", "}"}]}], ",", 
                    RowBox[{"Global`products", "\[Rule]", 
                    RowBox[{"{", "product", "}"}]}]}], "]"}], ";"}]}], 
                "\[IndentingNewLine]", "\[IndentingNewLine]", "]"}], ";"}]}], 
             
             RowBox[{"(*", " ", 
              RowBox[{"End", " ", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{"A1", ",", "A2", ",", "..."}], "}"}], 
                  "\[RightTeeArrow]", "B"}], ",", 
                 RowBox[{"hill", "[", "...", "]"}]}], "}"}], " ", "If"}], " ",
               "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", "]"}], 
            ";"}]}], 
          RowBox[{"(*", " ", 
           RowBox[{"End", " ", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{"A1", "\[RightTeeArrow]", "B"}], ",", 
                RowBox[{"hill", "[", "...", "]"}]}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"A2", "\[RightTeeArrow]", "B"}], ",", 
                RowBox[{"hill", "[", "...", "]"}]}], "}"}], ",", "..."}], 
             "}"}], " ", "If"}], " ", "*)"}], "\[IndentingNewLine]", 
          "\[IndentingNewLine]", "]"}], ";"}]}], "\[IndentingNewLine]", 
       "\[IndentingNewLine]", "]"}]}], ";", 
     StyleBox[
      RowBox[{"(*", " ", 
       RowBox[{"End", " ", 
        RowBox[{"handleHill", "[", "]"}]}], " ", "*)"}],
      Background->RGBColor[0, 1, 1]], "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       StyleBox["handleGRN",
        Background->RGBColor[0, 1, 1]], "[", "reaction_", "]"}], ":=", 
      "\[IndentingNewLine]", 
      RowBox[{"Module", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
         "odes", ",", "kLaw", ",", "react", ",", "modi", ",", "product", ",", 
          "reactant"}], "}"}], ",", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"dPrint", "[", 
          RowBox[{"\"\<handleGRN: \>\"", ",", " ", "reaction"}], "]"}], ";", 
         " ", "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{
          "A", " ", "list", " ", "of", " ", "kinetic", " ", "laws", " ", 
           "for", " ", "the", " ", "reaction"}], " ", "*)"}], 
         StyleBox["\[IndentingNewLine]",
          Background->RGBColor[1, 1, 0]], 
         RowBox[{"odes", "=", 
          RowBox[{"xlr8r`Private`parseArrowForm", "[", "reaction", "]"}]}], 
         ";", " ", "\[IndentingNewLine]", 
         RowBox[{"odes", "=", 
          RowBox[{"odes", "/.", 
           RowBox[{"{", 
            RowBox[{"xlr8r`Bind", "\[Rule]", "mybind"}], "}"}]}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{"Removing", " ", "any", " ", "cases", " ", "of", " ", 
           RowBox[{"0", "'"}], "s"}], " ", "*)"}], "\[IndentingNewLine]", 
         RowBox[{"odes", "=", 
          RowBox[{"Select", "[", 
           RowBox[{"odes", ",", " ", 
            RowBox[{
             RowBox[{"FreeQ", "[", 
              RowBox[{"#", ",", "0"}], "]"}], "&"}]}], "]"}]}], ";", 
         RowBox[{"(*", " ", 
          RowBox[{
          "Getting", " ", "kinetic", " ", "law", " ", "formula", " ", "for", 
           " ", "the", " ", "current", " ", "reaction", " ", "from", " ", 
           "list"}], " ", "*)"}], " ", "\[IndentingNewLine]", 
         RowBox[{"kLaw", "=", 
          RowBox[{"Last", "[", 
           RowBox[{"First", "[", "odes", "]"}], "]"}]}], ";", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{
          "Adjusting", " ", "xCellerator", " ", "formula", " ", "to", " ", 
           "fit", " ", "SBML", " ", "spec"}], " ", "*)"}], 
         "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{"This", " ", "will", " ", "get", " ", "rid", " ", "of", " ", 
           RowBox[{"xCellerator", "'"}], 
           RowBox[{
            RowBox[{"s", " ", "[", "t", "]"}], "'"}], "s"}], " ", "*)"}], 
         "\[IndentingNewLine]", 
         RowBox[{"kLaw", "=", 
          RowBox[{"ToExpression", "[", 
           RowBox[{"StringReplace", "[", 
            RowBox[{
             RowBox[{"ToString", "[", 
              RowBox[{"InputForm", "[", "kLaw", "]"}], "]"}], ",", 
             RowBox[{"{", 
              RowBox[{"\"\<[t]\>\"", "\[Rule]", " ", "\"\<\>\""}], "}"}]}], 
            "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{"Removing", " ", "negative", " ", "if", " ", "applicable"}],
           " ", "*)"}], "\[IndentingNewLine]", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"First", "[", "kLaw", "]"}], "<", "0"}], ",", 
           "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"kLaw", "=", 
             RowBox[{"kLaw", "*", 
              RowBox[{"-", "1"}]}]}], ";"}]}], "\[IndentingNewLine]", "]"}], 
         ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"dPrint", "[", 
          RowBox[{
          "\"\<The kinetic law for this reaction is: \>\"", ",", "kLaw"}], 
          "]"}], ";", 
         StyleBox[" ",
          Background->RGBColor[1, 1, 0]], 
         StyleBox[
          RowBox[{"(*", " ", "Print", " ", "*)"}],
          Background->RGBColor[1, 1, 0]], "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{"rev", " ", "0.04"}], " ", "*)"}], "\[IndentingNewLine]", 
         RowBox[{"react", "=", 
          RowBox[{
           RowBox[{"First", "[", "reaction", "]"}], "/.", 
           RowBox[{"{", 
            RowBox[{"RightTeeArrow", "\[Rule]", " ", "ShortRightArrow"}], 
            "}"}]}]}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{
           RowBox[{"Finding", " ", "modifiers"}], ",", " ", "products", ",", 
           " ", 
           RowBox[{"and", " ", "reactants"}]}], " ", "*)"}], 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"modi", "=", 
          RowBox[{"First", "[", 
           RowBox[{"First", "[", "reaction", "]"}], "]"}]}], ";", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"StringCount", "[", 
             RowBox[{
              RowBox[{"ToString", "[", "modi", "]"}], ",", " ", "\"\<+\>\""}],
              " ", "]"}], "\[GreaterEqual]", "1"}], ",", 
           RowBox[{"(*", " ", 
            RowBox[{
             RowBox[{"If", " ", "A1"}], "+", "A2", "+", 
             RowBox[{"A3", " ", "case"}]}], " ", "*)"}], 
           "\[IndentingNewLine]", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"modi", "=", 
             RowBox[{"StringReplace", "[", 
              RowBox[{
               RowBox[{"ToString", "[", "modi", "]"}], ",", 
               RowBox[{"\"\<+\>\"", "\[Rule]", " ", "\"\<,\>\""}]}], "]"}]}], 
            ";", "\[IndentingNewLine]", 
            RowBox[{"modi", "=", 
             RowBox[{"StringInsert", "[", 
              RowBox[{"modi", ",", " ", "\"\<{\>\"", ",", "1"}], "]"}]}], ";",
             "\[IndentingNewLine]", 
            RowBox[{"ToExpression", "[", 
             RowBox[{"modi", "=", 
              RowBox[{"StringInsert", "[", 
               RowBox[{"modi", ",", "\"\<}\>\"", ",", " ", 
                RowBox[{
                 RowBox[{"StringLength", "[", "modi", "]"}], "+", "1"}]}], 
               "]"}]}], "]"}], ";"}]}], "\[IndentingNewLine]", 
          "\[IndentingNewLine]", "]"}], ";", "\[IndentingNewLine]", 
         "\[IndentingNewLine]", 
         RowBox[{"product", "=", 
          RowBox[{"Last", "[", "react", "]"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{
           RowBox[{"reactant", "=", 
            RowBox[{"Last", "[", "reaction", "]"}]}], ";"}], " ", "*)"}], 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{
          "changed", " ", "so", " ", "reactant", " ", "is", " ", "emptyset", 
           " ", "v", " ", "0.04"}], " ", "*)"}], "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{
           RowBox[{"GRN", "[", "]"}], " ", "\[Rule]", " ", 
           RowBox[{"{", " ", "}"}]}], " ", "*)"}], "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{
           RowBox[{"reactant", "=", 
            RowBox[{"ToExpression", "[", 
             RowBox[{"StringReplace", "[", 
              RowBox[{
               RowBox[{"ToString", "[", "reactant", "]"}], ",", " ", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"\"\<GRN[\>\"", "\[Rule]", " ", "\"\<{\>\""}], ",", 
                 " ", 
                 RowBox[{"\"\<]\>\"", "\[Rule]", " ", "\"\<}\>\""}]}], 
                "}"}]}], "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
           RowBox[{"reactant", "=", 
            RowBox[{"Complement", "[", 
             RowBox[{"reactant", ",", "rids"}], "]"}]}], ";"}], "  ", "*)"}], 
         
         RowBox[{"(*", " ", 
          RowBox[{"Taking", " ", "out", " ", "parameters"}], " ", "*)"}], 
         "\[IndentingNewLine]", "\[IndentingNewLine]", "\[IndentingNewLine]", 
         
         RowBox[{"(*", " ", 
          RowBox[{
          "Editing", " ", "the", " ", "current", " ", "reaction", " ", "to", 
           " ", "fit", " ", "the", " ", "SBML", " ", "spec", 
           "\[IndentingNewLine]", 
           StyleBox[" ",
            Background->None], 
           StyleBox["This",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["will",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["turn",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["the",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["xCellerator",
            Background->None], 
           StyleBox[" ",
            Background->None], "GRN", 
           StyleBox[" ",
            Background->None], 
           StyleBox["arrow",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["into",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["the",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["SBML",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["accepted",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["Rule",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["arrow",
            Background->None]}], 
          StyleBox[" ",
           Background->None], 
          StyleBox["*)",
           Background->None]}], 
         RowBox[{"react", "=", 
          RowBox[{
           RowBox[{"First", "[", "reaction", "]"}], "/.", 
           RowBox[{"{", 
            RowBox[{"RightTeeArrow", "\[Rule]", "Rule"}], "}"}]}]}], ";", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"dPrint", "[", 
          RowBox[{"\"\<react: \>\"", ",", " ", "react"}], "]"}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"dPrint", "[", 
          RowBox[{"\"\<prod: \>\"", ",", " ", 
           RowBox[{"{", "product", "}"}]}], "]"}], ";", " ", 
         "\[IndentingNewLine]", 
         RowBox[{"dPrint", "[", 
          RowBox[{"\"\<modi: \>\"", ",", " ", 
           RowBox[{"{", "modi", "}"}]}], "]"}], ";", " ", 
         "\[IndentingNewLine]", 
         RowBox[{"dPrint", "[", 
          RowBox[{"\"\<reactants: \>\"", ",", " ", 
           RowBox[{"{", "reactant", "}"}]}], "]"}], ";", " ", 
         "\[IndentingNewLine]", 
         RowBox[{"dPrint", "[", 
          RowBox[{"\"\<klaw: \>\"", ",", " ", "kLaw"}], "]"}], ";", " ", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         StyleBox[
          RowBox[{"(*", " ", 
           RowBox[{
           "Adding", " ", "the", " ", "current", " ", "reaction", " ", "to", 
            " ", "the", " ", "model"}], " ", "*)"}],
          Background->RGBColor[0.458824, 0.901961, 0.647059]], 
         "\[IndentingNewLine]", 
         RowBox[{"MathSBML`addReaction", "[", 
          RowBox[{"react", ",", " ", 
           RowBox[{"Global`kineticLaw", "\[Rule]", "kLaw"}], ",", " ", 
           RowBox[{"Global`modifiers", "\[Rule]", 
            RowBox[{"{", "modi", "}"}]}], ",", 
           RowBox[{"Global`products", "\[Rule]", 
            RowBox[{"{", "product", "}"}]}], ",", 
           RowBox[{"Global`reactants", "\[Rule]", 
            RowBox[{"{", "Global`EmptySet", "}"}]}]}], " ", "]"}], ";"}]}], 
       "\[IndentingNewLine]", "\[IndentingNewLine]", "]"}]}], ";", 
     StyleBox[
      RowBox[{"(*", " ", 
       RowBox[{"End", " ", 
        RowBox[{"handleGRN", "[", "]"}]}], " ", "*)"}],
      Background->RGBColor[0, 1, 1]], "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       StyleBox["handleSSystem",
        Background->RGBColor[0, 1, 1]], "[", "reaction_", "]"}], ":=", 
      "\[IndentingNewLine]", 
      RowBox[{"Module", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
         "odes", ",", "kLaw", ",", "react", ",", "modi", ",", "product", ",", 
          "reactant"}], "}"}], ",", "\[IndentingNewLine]", 
        "\[IndentingNewLine]", 
        RowBox[{"(*", " ", 
         RowBox[{
         "A", " ", "list", " ", "of", " ", "kinetic", " ", "laws", " ", "for",
           " ", "the", " ", "reaction"}], " ", "*)"}], 
        StyleBox["\[IndentingNewLine]",
         Background->RGBColor[1, 1, 0]], 
        RowBox[{
         RowBox[{"odes", "=", 
          RowBox[{"xlr8r`Private`parseArrowForm", "[", "reaction", "]"}]}], 
         ";", " ", "\[IndentingNewLine]", 
         RowBox[{"odes", "=", 
          RowBox[{"odes", "/.", 
           RowBox[{"{", 
            RowBox[{"xlr8r`Bind", "\[Rule]", "mybind"}], "}"}]}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{"Removing", " ", "any", " ", "cases", " ", "of", " ", 
           RowBox[{"0", "'"}], "s"}], " ", "*)"}], "\[IndentingNewLine]", 
         RowBox[{"odes", "=", 
          RowBox[{"Select", "[", 
           RowBox[{"odes", ",", " ", 
            RowBox[{
             RowBox[{"FreeQ", "[", 
              RowBox[{"#", ",", "0"}], "]"}], "&"}]}], "]"}]}], ";", 
         RowBox[{"(*", " ", 
          RowBox[{
          "Getting", " ", "kinetic", " ", "law", " ", "formula", " ", "for", 
           " ", "the", " ", "current", " ", "reaction", " ", "from", " ", 
           "list"}], " ", "*)"}], " ", "\[IndentingNewLine]", 
         RowBox[{"kLaw", "=", 
          RowBox[{"Last", "[", 
           RowBox[{"First", "[", "odes", "]"}], "]"}]}], ";", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{
          "Adjusting", " ", "xCellerator", " ", "formula", " ", "to", " ", 
           "fit", " ", "SBML", " ", "spec"}], " ", "*)"}], 
         "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{"This", " ", "will", " ", "get", " ", "rid", " ", "of", " ", 
           RowBox[{"xCellerator", "'"}], 
           RowBox[{
            RowBox[{"s", " ", "[", "t", "]"}], "'"}], "s"}], " ", "*)"}], 
         "\[IndentingNewLine]", 
         RowBox[{"kLaw", "=", 
          RowBox[{"ToExpression", "[", 
           RowBox[{"StringReplace", "[", 
            RowBox[{
             RowBox[{"ToString", "[", 
              RowBox[{"InputForm", "[", "kLaw", "]"}], "]"}], ",", 
             RowBox[{"{", 
              RowBox[{"\"\<[t]\>\"", "\[Rule]", " ", "\"\<\>\""}], "}"}]}], 
            "]"}], "]"}]}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"react", "=", 
          RowBox[{"First", "[", "reaction", "]"}]}], ";", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{
           RowBox[{"Finding", " ", "modifiers"}], ",", " ", "products", ",", 
           " ", 
           RowBox[{"and", " ", "reactants"}]}], " ", "*)"}], 
         "\[IndentingNewLine]", 
         RowBox[{"modi", "=", 
          RowBox[{"First", "[", 
           RowBox[{"First", "[", "reaction", "]"}], "]"}]}], ";", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"StringCount", "[", 
             RowBox[{
              RowBox[{"ToString", "[", "modi", "]"}], ",", " ", "\"\<+\>\""}],
              " ", "]"}], "\[GreaterEqual]", "1"}], ",", 
           RowBox[{"(*", " ", 
            RowBox[{
             RowBox[{"If", " ", "A1"}], "+", "A2", "+", 
             RowBox[{"A3", " ", "case"}]}], " ", "*)"}], 
           "\[IndentingNewLine]", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"modi", "=", 
             RowBox[{"StringReplace", "[", 
              RowBox[{
               RowBox[{"ToString", "[", "modi", "]"}], ",", 
               RowBox[{"\"\<+\>\"", "\[Rule]", " ", "\"\<,\>\""}]}], "]"}]}], 
            ";", "\[IndentingNewLine]", 
            RowBox[{"modi", "=", 
             RowBox[{"StringInsert", "[", 
              RowBox[{"modi", ",", " ", "\"\<{\>\"", ",", "1"}], "]"}]}], ";",
             "\[IndentingNewLine]", 
            RowBox[{"modi", "=", 
             RowBox[{"ToExpression", "[", 
              RowBox[{"modi", "=", 
               RowBox[{"StringInsert", "[", 
                RowBox[{"modi", ",", "\"\<}\>\"", ",", " ", 
                 RowBox[{
                  RowBox[{"StringLength", "[", "modi", "]"}], "+", "1"}]}], 
                "]"}]}], "]"}]}], ";"}]}], "\[IndentingNewLine]", 
          "\[IndentingNewLine]", "]"}], ";", "\[IndentingNewLine]", 
         "\[IndentingNewLine]", 
         RowBox[{"product", "=", 
          RowBox[{"Last", "[", "react", "]"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"reactant", "=", 
          RowBox[{"Last", "[", "reaction", "]"}]}], ";", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{
           RowBox[{"SSystem", "[", "]"}], " ", "\[Rule]", " ", 
           RowBox[{"{", " ", "}"}]}], " ", "*)"}], "\[IndentingNewLine]", 
         RowBox[{"reactant", "=", 
          RowBox[{"ToExpression", "[", 
           RowBox[{"StringReplace", "[", 
            RowBox[{
             RowBox[{"ToString", "[", "reactant", "]"}], ",", " ", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"\"\<SSystem[\>\"", "\[Rule]", " ", "\"\<{\>\""}], ",",
                " ", 
               RowBox[{"\"\<]\>\"", "\[Rule]", " ", "\"\<}\>\""}]}], "}"}]}], 
            "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"reactant", "=", 
          RowBox[{"Flatten", "[", "reactant", "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"reactant", "=", 
          RowBox[{"Complement", "[", 
           RowBox[{"reactant", ",", "rids"}], "]"}]}], ";", " ", 
         RowBox[{"(*", " ", 
          RowBox[{"Taking", " ", "out", " ", "parameters"}], " ", "*)"}], 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{
           RowBox[{
           "Editing", " ", "the", " ", "current", " ", "reaction", " ", "to", 
            " ", "fit", " ", "the", " ", "SBML", " ", "spec", 
            "\[IndentingNewLine]", 
            StyleBox[" ",
             Background->None], 
            StyleBox["This",
             Background->None], 
            StyleBox[" ",
             Background->None], 
            StyleBox["will",
             Background->None], 
            StyleBox[" ",
             Background->None], 
            StyleBox["turn",
             Background->None], 
            StyleBox[" ",
             Background->None], 
            StyleBox["the",
             Background->None], 
            StyleBox[" ",
             Background->None], 
            StyleBox["xCellerator",
             Background->None], 
            StyleBox[" ",
             Background->None], 
            StyleBox["S",
             Background->None]}], 
           StyleBox["-",
            Background->None], 
           StyleBox[
            RowBox[{
            "System", " ", "arrow", " ", "into", " ", "the", " ", "SBML", " ",
              "accepted", " ", "Rule", " ", "arrow"}],
            Background->None]}], 
          StyleBox[" ",
           Background->None], 
          StyleBox["*)",
           Background->None]}], 
         StyleBox["\[IndentingNewLine]",
          Background->None], 
         StyleBox[
          RowBox[{"react", "=", 
           RowBox[{"ToExpression", "[", 
            RowBox[{"StringReplace", "[", 
             RowBox[{
              RowBox[{"ToString", "[", "react", "]"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"\"\<,\>\"", "\[Rule]", " ", "\"\<+\>\""}], ",", 
                RowBox[{"\"\<{\>\"", "\[Rule]", "\"\<\>\""}], ",", 
                RowBox[{"\"\<}\>\"", "\[Rule]", "\"\<\>\""}]}], "}"}]}], 
             "]"}], "]"}]}],
          Background->None], 
         StyleBox[";",
          Background->None], "\[IndentingNewLine]", 
         RowBox[{"react", "=", 
          RowBox[{"react", "/.", 
           RowBox[{"{", 
            RowBox[{"RightTeeArrow", "\[Rule]", "Rule"}], "}"}]}]}], ";", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         StyleBox[
          RowBox[{"(*", " ", 
           RowBox[{
           "Adding", " ", "the", " ", "current", " ", "reaction", " ", "to", 
            " ", "the", " ", "model"}], " ", "*)"}],
          Background->RGBColor[0.458824, 0.901961, 0.647059]], 
         "\[IndentingNewLine]", 
         RowBox[{"MathSBML`addReaction", "[", 
          RowBox[{"react", ",", " ", 
           RowBox[{"Global`kineticLaw", "\[Rule]", "kLaw"}], ",", " ", 
           RowBox[{"Global`modifiers", "\[Rule]", 
            RowBox[{"{", "modi", "}"}]}], ",", 
           RowBox[{"Global`products", "\[Rule]", 
            RowBox[{"{", "product", "}"}]}], ",", 
           RowBox[{"Global`reactants", "\[Rule]", 
            RowBox[{"{", "reactant", "}"}]}]}], " ", "]"}], ";"}]}], 
       "\[IndentingNewLine]", "\[IndentingNewLine]", "]"}]}], ";", 
     StyleBox[
      RowBox[{"(*", " ", 
       RowBox[{"End", " ", 
        RowBox[{"handleSSystem", "[", "]"}]}], " ", "*)"}],
      Background->RGBColor[0, 1, 1]], "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       StyleBox["handleNHCA",
        Background->RGBColor[0, 1, 1]], "[", "reaction_", "]"}], ":=", 
      "\[IndentingNewLine]", 
      RowBox[{"Module", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
         "odes", ",", "kLaw", ",", "react", ",", "modi", ",", "product", ",", 
          "reactant"}], "}"}], ",", "\[IndentingNewLine]", 
        "\[IndentingNewLine]", 
        RowBox[{"(*", " ", 
         RowBox[{
         "A", " ", "list", " ", "of", " ", "kinetic", " ", "laws", " ", "for",
           " ", "the", " ", "reaction"}], " ", "*)"}], 
        StyleBox["\[IndentingNewLine]",
         Background->RGBColor[1, 1, 0]], 
        RowBox[{
         RowBox[{"odes", "=", 
          RowBox[{"xlr8r`Private`parseArrowForm", "[", "reaction", "]"}]}], 
         ";", " ", "\[IndentingNewLine]", 
         RowBox[{"odes", "=", 
          RowBox[{"odes", "/.", 
           RowBox[{"{", 
            RowBox[{"xlr8r`Bind", "\[Rule]", "mybind"}], "}"}]}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{"Removing", " ", "any", " ", "cases", " ", "of", " ", 
           RowBox[{"0", "'"}], "s"}], " ", "*)"}], "\[IndentingNewLine]", 
         RowBox[{"odes", "=", 
          RowBox[{"Select", "[", 
           RowBox[{"odes", ",", " ", 
            RowBox[{
             RowBox[{"FreeQ", "[", 
              RowBox[{"#", ",", "0"}], "]"}], "&"}]}], "]"}]}], ";", 
         RowBox[{"(*", " ", 
          RowBox[{
          "Getting", " ", "kinetic", " ", "law", " ", "formula", " ", "for", 
           " ", "the", " ", "current", " ", "reaction", " ", "from", " ", 
           "list"}], " ", "*)"}], " ", "\[IndentingNewLine]", 
         RowBox[{"kLaw", "=", 
          RowBox[{"Last", "[", 
           RowBox[{"First", "[", "odes", "]"}], "]"}]}], ";", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{
          "Adjusting", " ", "xCellerator", " ", "formula", " ", "to", " ", 
           "fit", " ", "SBML", " ", "spec"}], " ", "*)"}], 
         "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{"This", " ", "will", " ", "get", " ", "rid", " ", "of", " ", 
           RowBox[{"xCellerator", "'"}], 
           RowBox[{
            RowBox[{"s", " ", "[", "t", "]"}], "'"}], "s"}], " ", "*)"}], 
         "\[IndentingNewLine]", 
         RowBox[{"kLaw", "=", 
          RowBox[{"ToExpression", "[", 
           RowBox[{"StringReplace", "[", 
            RowBox[{
             RowBox[{"ToString", "[", 
              RowBox[{"InputForm", "[", "kLaw", "]"}], "]"}], ",", 
             RowBox[{"{", 
              RowBox[{"\"\<[t]\>\"", "\[Rule]", " ", "\"\<\>\""}], "}"}]}], 
            "]"}], "]"}]}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"react", "=", 
          RowBox[{"First", "[", "reaction", "]"}]}], ";", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{
           RowBox[{"Finding", " ", "modifiers"}], ",", " ", "products", ",", 
           " ", 
           RowBox[{"and", " ", "reactants"}]}], " ", "*)"}], 
         "\[IndentingNewLine]", 
         RowBox[{"modi", "=", 
          RowBox[{"First", "[", 
           RowBox[{"First", "[", "reaction", "]"}], "]"}]}], ";", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"StringCount", "[", 
             RowBox[{
              RowBox[{"ToString", "[", "modi", "]"}], ",", " ", "\"\<+\>\""}],
              " ", "]"}], "\[GreaterEqual]", "1"}], ",", 
           RowBox[{"(*", " ", 
            RowBox[{
             RowBox[{"If", " ", "A1"}], "+", "A2", "+", 
             RowBox[{"A3", " ", "case"}]}], " ", "*)"}], 
           "\[IndentingNewLine]", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"modi", "=", 
             RowBox[{"StringReplace", "[", 
              RowBox[{
               RowBox[{"ToString", "[", "modi", "]"}], ",", 
               RowBox[{"\"\<+\>\"", "\[Rule]", " ", "\"\<,\>\""}]}], "]"}]}], 
            ";", "\[IndentingNewLine]", 
            RowBox[{"modi", "=", 
             RowBox[{"StringInsert", "[", 
              RowBox[{"modi", ",", " ", "\"\<{\>\"", ",", "1"}], "]"}]}], ";",
             "\[IndentingNewLine]", 
            RowBox[{"modi", "=", 
             RowBox[{"ToExpression", "[", 
              RowBox[{"modi", "=", 
               RowBox[{"StringInsert", "[", 
                RowBox[{"modi", ",", "\"\<}\>\"", ",", " ", 
                 RowBox[{
                  RowBox[{"StringLength", "[", "modi", "]"}], "+", "1"}]}], 
                "]"}]}], "]"}]}], ";"}]}], "\[IndentingNewLine]", 
          "\[IndentingNewLine]", "]"}], ";", "\[IndentingNewLine]", 
         "\[IndentingNewLine]", 
         RowBox[{"product", "=", 
          RowBox[{"Last", "[", "react", "]"}]}], ";", "\[IndentingNewLine]", 
         "\[IndentingNewLine]", 
         RowBox[{"reactant", "=", 
          RowBox[{"Last", "[", "reaction", "]"}]}], ";", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{
           RowBox[{"NHCA", "[", "]"}], " ", "\[Rule]", " ", 
           RowBox[{"{", " ", "}"}]}], " ", "*)"}], "\[IndentingNewLine]", 
         RowBox[{"reactant", "=", 
          RowBox[{"ToExpression", "[", 
           RowBox[{"StringReplace", "[", 
            RowBox[{
             RowBox[{"ToString", "[", "reactant", "]"}], ",", " ", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"\"\<NHCA[\>\"", "\[Rule]", " ", "\"\<{\>\""}], ",", 
               " ", 
               RowBox[{"\"\<]\>\"", "\[Rule]", " ", "\"\<}\>\""}]}], "}"}]}], 
            "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"reactant", "=", 
          RowBox[{"Flatten", "[", "reactant", "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"reactant", "=", 
          RowBox[{"Complement", "[", 
           RowBox[{"reactant", ",", "rids"}], "]"}]}], ";", " ", 
         RowBox[{"(*", " ", 
          RowBox[{"Taking", " ", "out", " ", "parameters"}], " ", "*)"}], 
         "\[IndentingNewLine]", 
         RowBox[{"reactant", "=", 
          RowBox[{"Flatten", "[", "reactant", "]"}]}], ";", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"StringCount", "[", 
             RowBox[{
              RowBox[{"ToString", "[", "react", "]"}], ",", "\"\<,\>\""}], 
             "]"}], "\[GreaterEqual]", "1"}], ",", " ", 
           RowBox[{"(*", " ", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"A1", ",", "A2", ",", "A3"}], "}"}], " ", "case"}], " ",
             "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"react", "=", 
             RowBox[{"ToExpression", "[", 
              RowBox[{"StringReplace", "[", 
               RowBox[{
                RowBox[{"ToString", "[", "react", "]"}], ",", " ", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"\"\<{\>\"", "\[Rule]", " ", "\"\<\>\""}], ",", 
                  RowBox[{"\"\<}\>\"", "\[Rule]", "\"\<\>\""}], ",", 
                  RowBox[{"\"\<,\>\"", "\[Rule]", " ", "\"\<+\>\""}]}], 
                 "}"}]}], "]"}], "]"}]}], ";"}]}], "\[IndentingNewLine]", 
          "\[IndentingNewLine]", "]"}], ";", "\[IndentingNewLine]", 
         "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{
          "Editing", " ", "the", " ", "current", " ", "reaction", " ", "to", 
           " ", "fit", " ", "the", " ", "SBML", " ", "spec", 
           "\[IndentingNewLine]", 
           StyleBox[" ",
            Background->None], 
           StyleBox["This",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["will",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["turn",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["the",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["xCellerator",
            Background->None], 
           StyleBox[" ",
            Background->None], "NHCA", 
           StyleBox[" ",
            Background->None], 
           StyleBox["arrow",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["into",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["the",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["SBML",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["accepted",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["Rule",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["arrow",
            Background->None]}], 
          StyleBox[" ",
           Background->None], 
          StyleBox["*)",
           Background->None]}], "\[IndentingNewLine]", 
         RowBox[{"react", "=", 
          RowBox[{"react", "/.", 
           RowBox[{"{", 
            RowBox[{"RightTeeArrow", "\[Rule]", "Rule"}], "}"}]}]}], ";", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         StyleBox[
          RowBox[{"(*", " ", 
           RowBox[{
           "Adding", " ", "the", " ", "current", " ", "reaction", " ", "to", 
            " ", "the", " ", "model"}], " ", "*)"}],
          Background->RGBColor[0.458824, 0.901961, 0.647059]], 
         "\[IndentingNewLine]", 
         RowBox[{"MathSBML`addReaction", "[", 
          RowBox[{"react", ",", " ", 
           RowBox[{"Global`kineticLaw", "\[Rule]", "kLaw"}], ",", " ", 
           RowBox[{"Global`modifiers", "\[Rule]", 
            RowBox[{"{", "modi", "}"}]}], ",", 
           RowBox[{"Global`products", "\[Rule]", 
            RowBox[{"{", "product", "}"}]}], ",", 
           RowBox[{"Global`reactants", "\[Rule]", 
            RowBox[{"{", "reactant", "}"}]}]}], " ", "]"}], ";"}]}], 
       "\[IndentingNewLine]", "\[IndentingNewLine]", "]"}]}], ";", 
     StyleBox[
      RowBox[{"(*", " ", 
       RowBox[{"End", " ", 
        RowBox[{"handleNHCA", "[", "]"}]}], " ", "*)"}],
      Background->RGBColor[0, 1, 1]], "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       StyleBox["handleGMWC",
        Background->RGBColor[0, 1, 1]], "[", "reaction_", "]"}], ":=", 
      "\[IndentingNewLine]", 
      RowBox[{"Module", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
         "odes", ",", "kLaw", ",", "react", ",", "modi", ",", "product", ",", 
          "reactant"}], "}"}], ",", "\[IndentingNewLine]", 
        "\[IndentingNewLine]", 
        RowBox[{"(*", " ", 
         RowBox[{
         "A", " ", "list", " ", "of", " ", "kinetic", " ", "laws", " ", "for",
           " ", "the", " ", "reaction"}], " ", "*)"}], 
        StyleBox["\[IndentingNewLine]",
         Background->RGBColor[1, 1, 0]], 
        RowBox[{
         RowBox[{"odes", "=", 
          RowBox[{"xlr8r`Private`parseArrowForm", "[", "reaction", "]"}]}], 
         ";", " ", "\[IndentingNewLine]", 
         RowBox[{"odes", "=", 
          RowBox[{"odes", "/.", 
           RowBox[{"{", 
            RowBox[{"xlr8r`Bind", "\[Rule]", "mybind"}], "}"}]}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{"Removing", " ", "any", " ", "cases", " ", "of", " ", 
           RowBox[{"0", "'"}], "s"}], " ", "*)"}], "\[IndentingNewLine]", 
         RowBox[{"odes", "=", 
          RowBox[{"Select", "[", 
           RowBox[{"odes", ",", " ", 
            RowBox[{
             RowBox[{"FreeQ", "[", 
              RowBox[{"#", ",", "0"}], "]"}], "&"}]}], "]"}]}], ";", 
         RowBox[{"(*", " ", 
          RowBox[{
          "Getting", " ", "kinetic", " ", "law", " ", "formula", " ", "for", 
           " ", "the", " ", "current", " ", "reaction", " ", "from", " ", 
           "list"}], " ", "*)"}], " ", "\[IndentingNewLine]", 
         RowBox[{"kLaw", "=", 
          RowBox[{"Last", "[", 
           RowBox[{"First", "[", "odes", "]"}], "]"}]}], ";", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{
          "Adjusting", " ", "xCellerator", " ", "formula", " ", "to", " ", 
           "fit", " ", "SBML", " ", "spec"}], " ", "*)"}], 
         "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{"This", " ", "will", " ", "get", " ", "rid", " ", "of", " ", 
           RowBox[{"xCellerator", "'"}], 
           RowBox[{
            RowBox[{"s", " ", "[", "t", "]"}], "'"}], "s"}], " ", "*)"}], 
         "\[IndentingNewLine]", 
         RowBox[{"kLaw", "=", 
          RowBox[{"ToExpression", "[", 
           RowBox[{"StringReplace", "[", 
            RowBox[{
             RowBox[{"ToString", "[", 
              RowBox[{"InputForm", "[", "kLaw", "]"}], "]"}], ",", 
             RowBox[{"{", 
              RowBox[{"\"\<[t]\>\"", "\[Rule]", " ", "\"\<\>\""}], "}"}]}], 
            "]"}], "]"}]}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{"Removing", " ", "negative", " ", "if", " ", "applicable"}],
           " ", "*)"}], "\[IndentingNewLine]", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"First", "[", "kLaw", "]"}], "<", "0"}], ",", 
           "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"kLaw", "=", 
             RowBox[{"kLaw", "*", 
              RowBox[{"-", "1"}]}]}], ";"}]}], "\[IndentingNewLine]", "]"}], 
         ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{
          "Editing", " ", "the", " ", "current", " ", "reaction", " ", "to", 
           " ", "fit", " ", "the", " ", "SBML", " ", "spec", 
           "\[IndentingNewLine]", 
           StyleBox[" ",
            Background->None], 
           StyleBox["This",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["will",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["turn",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["the",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["xCellerator",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           RowBox[{"MWC", "/", "GMWC"}], 
           StyleBox[" ",
            Background->None], 
           StyleBox["arrow",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["into",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["the",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["SBML",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["accepted",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["Rule",
            Background->None], 
           StyleBox[" ",
            Background->None], 
           StyleBox["arrow",
            Background->None]}], 
          StyleBox[" ",
           Background->None], 
          StyleBox["*)",
           Background->None]}], "\[IndentingNewLine]", 
         RowBox[{"react", "=", 
          RowBox[{"First", "[", "reaction", "]"}]}], ";", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{
           RowBox[{"Finding", " ", "modifiers"}], ",", " ", "products", ",", 
           " ", 
           RowBox[{"and", " ", "reactants"}]}], " ", "*)"}], 
         "\[IndentingNewLine]", 
         RowBox[{"(*", " ", "Modifiers", " ", "*)"}], "\[IndentingNewLine]", 
         RowBox[{"modi", "=", 
          RowBox[{"Last", "[", "react", "]"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"modi", "=", 
          RowBox[{"Union", "[", 
           RowBox[{
            RowBox[{"{", "modi", "}"}], ",", 
            RowBox[{"Last", "[", 
             RowBox[{"First", "[", "react", "]"}], "]"}]}], "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"modi", "=", 
          RowBox[{"Flatten", "[", "modi", "]"}]}], ";", "\[IndentingNewLine]",
          "\[IndentingNewLine]", 
         RowBox[{"(*", " ", "Products", " ", "*)"}], "\[IndentingNewLine]", 
         RowBox[{"product", "=", 
          RowBox[{"Last", "[", 
           RowBox[{"First", "[", 
            RowBox[{"First", "[", "react", "]"}], "]"}], "]"}]}], ";", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"(*", " ", "Reactants", " ", "*)"}], "\[IndentingNewLine]", 
         RowBox[{"reactant", "=", 
          RowBox[{"First", "[", 
           RowBox[{"First", "[", 
            RowBox[{"First", "[", "react", "]"}], "]"}], "]"}]}], ";", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"react", "=", 
          RowBox[{
           RowBox[{"First", "[", 
            RowBox[{"First", "[", "react", "]"}], "]"}], "/.", 
           RowBox[{"{", 
            RowBox[{"DoubleLongRightArrow", "\[Rule]", "Rule"}], "}"}]}]}], 
         ";", " ", 
         RowBox[{"(*", " ", 
          RowBox[{"Getting", " ", "rid", " ", "of", " ", "overscripts"}], " ",
           "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
         StyleBox[
          RowBox[{"(*", " ", 
           RowBox[{
           "Adding", " ", "the", " ", "current", " ", "reaction", " ", "to", 
            " ", "the", " ", "model"}], " ", "*)"}],
          Background->RGBColor[0.458824, 0.901961, 0.647059]], 
         "\[IndentingNewLine]", 
         RowBox[{"MathSBML`addReaction", "[", 
          RowBox[{"react", ",", 
           RowBox[{"Global`kineticLaw", "\[Rule]", "kLaw"}], ",", " ", 
           RowBox[{"Global`modifiers", "\[Rule]", 
            RowBox[{"{", "modi", "}"}]}], ",", 
           RowBox[{"Global`products", "\[Rule]", 
            RowBox[{"{", "product", "}"}]}], ",", 
           RowBox[{"Global`reactants", "\[Rule]", 
            RowBox[{"{", "reactant", "}"}]}]}], " ", "]"}], ";"}]}], 
       "\[IndentingNewLine]", "\[IndentingNewLine]", "]"}]}], ";", 
     StyleBox[
      RowBox[{"(*", " ", 
       RowBox[{"End", " ", 
        RowBox[{"handleGMWC", "[", "]"}]}], " ", "*)"}],
      Background->RGBColor[0, 1, 1]], "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       StyleBox["addNextReaction",
        Background->RGBColor[0, 1, 1]], "[", "reaction_", "]"}], ":=", " ", 
      RowBox[{"Module", "[", 
       RowBox[{
        RowBox[{"{", "odes", "}"}], ",", "\[IndentingNewLine]", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"dPrint", "[", 
          RowBox[{
          "\"\<addNextReaction: reaction: \>\"", ",", " ", "reaction"}], 
          "]"}], ";", " ", "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"odes", "=", 
          RowBox[{"xlr8r`interpret", "[", 
           RowBox[{"{", "reaction", "}"}], "]"}]}], ";", " ", 
         "\[IndentingNewLine]", 
         RowBox[{"odes", "=", 
          RowBox[{"odes", "/.", 
           RowBox[{"{", 
            RowBox[{"xlr8r`Bind", "\[Rule]", "mybind"}], "}"}]}]}], ";", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", "\[IndentingNewLine]", 
         
         StyleBox["\[IndentingNewLine]",
          Background->RGBColor[1, 1, 0]], 
         StyleBox[
          RowBox[{"(*", " ", 
           RowBox[{"If", " ", "Mass", " ", "Action", " ", "reaction"}], " ", 
           "*)"}],
          Background->RGBColor[1, 1, 0]], 
         StyleBox["\[IndentingNewLine]",
          Background->RGBColor[1, 1, 0]], 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"StringCount", "[", 
             RowBox[{
              RowBox[{"ToString", "[", "reaction", "]"}], ",", " ", 
              "\"\<\[ShortRightArrow]\>\""}], "]"}], "\[GreaterEqual]", "1"}],
            ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"handleMassAction", "[", "reaction", "]"}], ";"}], 
           "\[IndentingNewLine]", "\[IndentingNewLine]", ",", 
           StyleBox[
            RowBox[{"(*", " ", 
             RowBox[{
              RowBox[{"Else", " ", "If", " ", "Michaelis"}], "-", 
              RowBox[{"Menten", " ", "reaction"}]}], " ", "*)"}],
            Background->RGBColor[1, 1, 0]], "\[IndentingNewLine]", 
           "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"StringCount", "[", 
                RowBox[{
                 RowBox[{"ToString", "[", "reaction", "]"}], ",", " ", 
                 "\"\<MM\>\""}], "]"}], "\[GreaterEqual]", "1"}], ",", 
              "\[IndentingNewLine]", "\[IndentingNewLine]", 
              RowBox[{
               RowBox[{"handleMM", "[", "reaction", "]"}], ";"}], 
              "\[IndentingNewLine]", "\[IndentingNewLine]", ",", 
              StyleBox[
               RowBox[{"(*", " ", 
                RowBox[{"Else", " ", "If", " ", "Hill", " ", "reaction"}], 
                " ", "*)"}],
               Background->RGBColor[1, 1, 0]], "\[IndentingNewLine]", 
              "\[IndentingNewLine]", 
              RowBox[{
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"StringCount", "[", 
                   RowBox[{
                    RowBox[{"ToString", "[", "reaction", "]"}], ",", " ", 
                    RowBox[{"{", 
                    RowBox[{"\"\<hill\>\"", ",", "\"\<Hill\>\""}], "}"}]}], 
                   "]"}], "\[GreaterEqual]", "1"}], ",", 
                 "\[IndentingNewLine]", "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{"handleHill", "[", "reaction", "]"}], ";"}], 
                 "\[IndentingNewLine]", "\[IndentingNewLine]", ",", 
                 StyleBox[
                  RowBox[{"(*", " ", 
                   RowBox[{"Else", " ", "If", " ", "GRN", " ", "reaction"}], 
                   " ", "*)"}],
                  Background->RGBColor[1, 1, 0]], "\[IndentingNewLine]", 
                 "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{"If", "[", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"StringCount", "[", 
                    RowBox[{
                    RowBox[{"ToString", "[", "reaction", "]"}], ",", " ", 
                    RowBox[{"{", 
                    RowBox[{"\"\<GRN\>\"", ",", " ", "\"\<grn\>\""}], "}"}]}],
                     "]"}], "\[GreaterEqual]", "1"}], ",", 
                    "\[IndentingNewLine]", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"handleGRN", "[", "reaction", "]"}], ";"}], 
                    "\[IndentingNewLine]", "\[IndentingNewLine]", ",", 
                    StyleBox[
                    RowBox[{"(*", " ", 
                    RowBox[{
                    RowBox[{"Else", " ", "If", " ", "S"}], "-", 
                    RowBox[{"System", " ", "reaction"}]}], " ", "*)"}],
                    Background->RGBColor[1, 1, 0]], "\[IndentingNewLine]", 
                    "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"StringCount", "[", 
                    RowBox[{
                    RowBox[{"ToString", "[", "reaction", "]"}], ",", " ", 
                    "\"\<SSystem\>\""}], "]"}], "\[GreaterEqual]", "1"}], ",",
                     "\[IndentingNewLine]", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"handleSSystem", "[", "reaction", "]"}], ";"}], 
                    "\[IndentingNewLine]", "\[IndentingNewLine]", ",", 
                    StyleBox[
                    RowBox[{"(*", " ", 
                    RowBox[{"Else", " ", "If", " ", "NHCA", " ", "reaction"}],
                     " ", "*)"}],
                    Background->RGBColor[1, 1, 0]], "\[IndentingNewLine]", 
                    "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"StringCount", "[", 
                    RowBox[{
                    RowBox[{"ToString", "[", "reaction", "]"}], ",", " ", 
                    "\"\<NHCA\>\""}], "]"}], "\[GreaterEqual]", "1"}], ",", 
                    "\[IndentingNewLine]", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"handleNHCA", "[", "reaction", "]"}], ";"}], 
                    "\[IndentingNewLine]", "\[IndentingNewLine]", ",", 
                    StyleBox[
                    RowBox[{"(*", " ", 
                    RowBox[{"Else", " ", "If", " ", "GMWC", " ", "reaction"}],
                     " ", "*)"}],
                    Background->RGBColor[1, 1, 0]], "\[IndentingNewLine]", 
                    "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"StringCount", "[", 
                    RowBox[{
                    RowBox[{"ToString", "[", "reaction", "]"}], ",", " ", 
                    RowBox[{"{", "\"\<GMWC\>\"", "}"}]}], "]"}], 
                    "\[GreaterEqual]", "1"}], ",", "\[IndentingNewLine]", 
                    "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"handleGMWC", "[", "reaction", "]"}], ";"}]}], 
                    "\[IndentingNewLine]", "\[IndentingNewLine]", "]"}], 
                    ";"}]}], 
                    RowBox[{"(*", " ", 
                    RowBox[{"End", " ", "GMWC", " ", 
                    RowBox[{"If", "[", "]"}]}], " ", "*)"}], 
                    "\[IndentingNewLine]", "\[IndentingNewLine]", "]"}], 
                    ";"}]}], 
                    RowBox[{"(*", " ", 
                    RowBox[{"End", " ", "NHCA", " ", 
                    RowBox[{"If", "[", "]"}]}], " ", "*)"}], 
                    "\[IndentingNewLine]", "\[IndentingNewLine]", "]"}], 
                    ";"}]}], 
                   RowBox[{"(*", " ", 
                    RowBox[{
                    RowBox[{"End", " ", "S"}], "-", 
                    RowBox[{"System", " ", 
                    RowBox[{"If", "[", "]"}]}]}], " ", "*)"}], 
                   "\[IndentingNewLine]", "\[IndentingNewLine]", "]"}], 
                  ";"}]}], 
                RowBox[{"(*", " ", 
                 RowBox[{"End", " ", "GRN", " ", 
                  RowBox[{"If", "[", "]"}]}], " ", "*)"}], 
                "\[IndentingNewLine]", "\[IndentingNewLine]", "]"}], ";"}]}], 
             
             RowBox[{"(*", " ", 
              RowBox[{"End", " ", "Hill", " ", 
               RowBox[{"If", "[", "]"}]}], " ", "*)"}], "\[IndentingNewLine]",
              "\[IndentingNewLine]", "]"}], ";"}]}], 
          RowBox[{"(*", " ", 
           RowBox[{
            RowBox[{"End", " ", "Michaelis"}], "-", 
            RowBox[{"Menten", " ", 
             RowBox[{"If", "[", "]"}]}]}], " ", "*)"}], "\[IndentingNewLine]",
           "\[IndentingNewLine]", "]"}], ";"}]}], " ", 
       RowBox[{"(*", " ", 
        RowBox[{"End", " ", "Mass", " ", "Action", " ", 
         RowBox[{"If", "[", "]"}]}], " ", "*)"}], 
       StyleBox["\[IndentingNewLine]",
        Background->RGBColor[1, 1, 0]], "\[IndentingNewLine]", "]"}]}], ";", 
     StyleBox[
      RowBox[{"(*", " ", 
       RowBox[{"End", " ", 
        RowBox[{"addNextReaction", "[", "]"}]}], " ", "*)"}],
      Background->RGBColor[0, 1, 1]], "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"low", "=", 
      RowBox[{"xlr8r`lowLevelReactions", "[", "network", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"low", " ", "=", " ", 
      RowBox[{"low", "/.", 
       RowBox[{"{", 
        RowBox[{"xlr8r`Bind", "\[Rule]", "mybind"}], "}"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"low", "=", 
      RowBox[{"low", "/.", 
       RowBox[{"{", 
        RowBox[{"Subscript", "\[Rule]", "nosubscript"}], "}"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"low", "=", 
      RowBox[{"low", "/.", 
       RowBox[{"{", 
        RowBox[{"Global`\[EmptySet]", "\[Rule]", " ", "Global`EmptySet"}], 
        "}"}]}]}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
     StyleBox[
      RowBox[{"(*", " ", 
       RowBox[{"Initialize", " ", "MathSBML"}], " ", "*)"}],
      Background->RGBColor[0.458824, 0.901961, 0.647059]], 
     "\[IndentingNewLine]", 
     RowBox[{"notes", "=", " ", 
      RowBox[{
      "\"\<This model was auto-generated from xlr8r reactions by xlr8r2SBML \
version \>\"", "<>", "xlr8r2SBML`xlr8r2SBMLVersion", "<>", "\"\< at \>\"", "<>", 
       RowBox[{"MathSBML`Private`now", "[", "]"}]}]}], ";", " ", 
     "\[IndentingNewLine]", 
     RowBox[{"MathSBML`newModel", "[", 
      RowBox[{"modelid", ",", " ", 
       RowBox[{"Global`name", "\[Rule]", "modelname"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"Global`notes", "\[Rule]", "notes"}]}], " ", "]"}], ";", 
     "\[IndentingNewLine]", 
     StyleBox[
      RowBox[{"(*", " ", 
       RowBox[{"Creating", " ", "compartment"}], " ", "*)"}],
      Background->RGBColor[0.458824, 0.901961, 0.647059]], 
     "\[IndentingNewLine]", 
     RowBox[{"MathSBML`addCompartment", "[", 
      RowBox[{"compartmentname", ",", " ", 
       RowBox[{"Global`size", "\[Rule]", " ", "1"}]}], "]"}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"rids", "=", 
      RowBox[{"Map", "[", 
       RowBox[{"First", ",", "rates"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"rids", "=", 
      RowBox[{"rids", "/.", 
       RowBox[{"{", 
        RowBox[{"Subscript", "\[Rule]", "nosubscript"}], "}"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"rids", "=", 
      RowBox[{"rids", "/.", 
       RowBox[{"{", 
        RowBox[{"\[EmptySet]", "\[Rule]", " ", "Global`EmptySet"}], "}"}]}]}],
      ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"rvalues", "=", 
      RowBox[{"Map", "[", 
       RowBox[{"Last", ",", "rates"}], "]"}]}], ";", "\[IndentingNewLine]", 
     StyleBox["\[IndentingNewLine]",
      Background->RGBColor[1, 1, 0]], 
     RowBox[{"For", "[", 
      RowBox[{
       RowBox[{"i", "=", "1"}], ",", 
       RowBox[{"i", "\[LessEqual]", 
        RowBox[{"Length", "[", "rates", "]"}]}], ",", 
       RowBox[{"i", "++"}], ",", "\[IndentingNewLine]", 
       StyleBox[
        RowBox[{"(*", " ", 
         RowBox[{"Adding", " ", "parameters"}], " ", "*)"}],
        Background->RGBColor[0.458824, 0.901961, 0.647059]], 
       "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"MathSBML`addParameter", "[", 
         RowBox[{
          RowBox[{"Global`id", "\[Rule]", 
           RowBox[{"Part", "[", 
            RowBox[{"rids", ",", "i"}], "]"}]}], ",", " ", 
          RowBox[{"Global`value", "\[Rule]", 
           RowBox[{"Part", "[", 
            RowBox[{"rvalues", ",", "i"}], "]"}]}]}], "]"}], ";"}]}], 
      "\[IndentingNewLine]", "]"}], ";", "\[IndentingNewLine]", 
     StyleBox["\[IndentingNewLine]",
      Background->RGBColor[1, 1, 0]], 
     RowBox[{"species", " ", "=", " ", 
      RowBox[{"Last", "[", 
       RowBox[{"xlr8r`interpret", "[", "network", "]"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"species", "=", 
      RowBox[{"species", "/.", 
       RowBox[{"{", 
        RowBox[{"xlr8r`Bind", "\[Rule]", "mybind"}], "}"}]}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"sids", "=", 
      RowBox[{"Map", "[", 
       RowBox[{"First", ",", " ", "initialConditions"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"sids", "=", 
      RowBox[{"sids", "/.", 
       RowBox[{"{", 
        RowBox[{"Subscript", "\[Rule]", "nosubscript"}], "}"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"sids", "=", 
      RowBox[{"sids", "/.", 
       RowBox[{"{", 
        RowBox[{"\[EmptySet]", "\[Rule]", " ", "Global`EmptySet"}], "}"}]}]}],
      ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"svalues", "=", 
      RowBox[{"Map", "[", 
       RowBox[{"Last", ",", " ", "initialConditions"}], "]"}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"newspecies", "=", 
      RowBox[{"Complement", "[", 
       RowBox[{"species", ",", "sids"}], "]"}]}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"MathSBML`addSpecies", "[", 
      RowBox[{
       RowBox[{"Global`id", "\[Rule]", " ", "Global`EmptySet"}], ",", " ", 
       RowBox[{"Global`initialAmount", "\[Rule]", " ", "0"}]}], "]"}], ";", 
     " ", "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"For", "[", 
      RowBox[{
       RowBox[{"i", "=", "1"}], ",", " ", 
       RowBox[{"i", "\[LessEqual]", 
        RowBox[{"Length", "[", "initialConditions", "]"}]}], ",", 
       RowBox[{"i", "++"}], ",", "\[IndentingNewLine]", 
       StyleBox[
        RowBox[{"(*", " ", 
         RowBox[{"Adding", " ", "species"}], " ", "*)"}],
        Background->RGBColor[0.458824, 0.901961, 0.647059]], 
       "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"MathSBML`addSpecies", "[", 
         RowBox[{
          RowBox[{"Global`id", "\[Rule]", 
           RowBox[{"Part", "[", 
            RowBox[{"sids", ",", "i"}], "]"}]}], ",", 
          RowBox[{"Global`initialConcentration", "\[Rule]", 
           RowBox[{"Part", "[", 
            RowBox[{"svalues", ",", "i"}], "]"}]}]}], "]"}], ";"}]}], 
      "\[IndentingNewLine]", "]"}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"For", "[", 
      RowBox[{
       RowBox[{"i", "=", "1"}], ",", " ", 
       RowBox[{"i", "\[LessEqual]", 
        RowBox[{"Length", "[", "newspecies", "]"}]}], ",", 
       RowBox[{"i", "++"}], ",", "\[IndentingNewLine]", 
       StyleBox[
        RowBox[{"(*", " ", 
         RowBox[{"Adding", " ", "new", " ", "species"}], " ", "*)"}],
        Background->RGBColor[0.458824, 0.901961, 0.647059]], 
       "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"MathSBML`addSpecies", "[", 
         RowBox[{
          RowBox[{"Global`id", "\[Rule]", 
           RowBox[{"Part", "[", 
            RowBox[{"newspecies", ",", "i"}], "]"}]}], ",", 
          RowBox[{"Global`initialConcentration", "\[Rule]", "0"}]}], "]"}], 
        ";"}]}], "\[IndentingNewLine]", "]"}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     StyleBox[
      RowBox[{"(*", " ", 
       RowBox[{"Adding", " ", "reactions"}], " ", "*)"}],
      Background->RGBColor[0.458824, 0.901961, 0.647059]], 
     StyleBox["\[IndentingNewLine]",
      Background->RGBColor[1, 1, 0]], 
     RowBox[{"Map", "[", 
      RowBox[{"addNextReaction", ",", " ", "low"}], "]"}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"Return", "[", 
      RowBox[{"MathSBML`createModel", "[", "]"}], "]"}], ";"}]}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", "]"}]}]], "Input",
 CellFrame->True,
 InitializationCell->True,
 CellChangeTimes->{{3.426877101860517*^9, 3.426877111875703*^9}, {
   3.426877154933913*^9, 3.426877290028622*^9}, {3.512662265287678*^9, 
   3.512662300141354*^9}, {3.512662345850758*^9, 3.512662356533853*^9}, {
   3.512662444071208*^9, 3.512662495380273*^9}, {3.512662681994562*^9, 
   3.5126626835735607`*^9}, {3.5126644262130213`*^9, 3.512664468186882*^9}, {
   3.51266450451816*^9, 3.5126645094156847`*^9}, {3.512665665747115*^9, 
   3.5126657258066187`*^9}, {3.5126657678375397`*^9, 3.512665811900011*^9}, {
   3.512665848577896*^9, 3.5126658504582357`*^9}, 3.5126659055038347`*^9, {
   3.512665971858878*^9, 3.512665999758494*^9}, {3.512666141382573*^9, 
   3.512666170856967*^9}, {3.5126662086198387`*^9, 3.512666269169588*^9}, 
   3.512666446848015*^9, {3.512666754023513*^9, 3.512666755000815*^9}, {
   3.512676353858913*^9, 3.5126763694270678`*^9}, {3.512676745293845*^9, 
   3.512676783287465*^9}, {3.512677485781507*^9, 3.5126774864797707`*^9}, {
   3.512677815734846*^9, 3.512677827365012*^9}, {3.51267788361241*^9, 
   3.5126779174960403`*^9}, {3.512677948931931*^9, 3.512677956238963*^9}, {
   3.512678006184505*^9, 3.51267801358953*^9}, {3.512678112056714*^9, 
   3.512678112940011*^9}},
 Background->GrayLevel[0.901961]]
}, Open  ]],

Cell["put all your code before this point", "Subsubtitle",
 FontColor->RGBColor[1, 1, 0],
 Background->GrayLevel[0.500008]],

Cell[CellGroupData[{

Cell["exit messages", "Section"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"now", "=", 
   RowBox[{"MathSBML`Private`now", "[", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"If", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"Length", "[", 
       RowBox[{"Names", "[", "\"\<FLAGS`ECHOLOAD\>\"", "]"}], "]"}], ">", 
      "0"}], ",", "\[IndentingNewLine]", 
     RowBox[{"msgflag", "=", 
      RowBox[{"ToExpression", "[", "\"\<FLAGS`ECHOLOAD\>\"", "]"}]}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"msgflag", "=", "True"}], ";"}]}], "\[IndentingNewLine]", "]"}],
    ";"}], "\[IndentingNewLine]", 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"If", "[", 
   RowBox[{"msgflag", ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"TEMP$FIRST", " ", "\[Or]", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"!", "TEMP$FIRST"}], " ", "\[And]", " ", 
          RowBox[{"!", 
           RowBox[{"Equal", "[", 
            RowBox[{"xlr8r2SBMLVersion", ",", " ", "TEMP$OLDVERSION"}], 
            "]"}]}]}], ")"}]}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"Print", "[", 
         RowBox[{
         "\"\<xlr8r2SBML Version \>\"", "<>", "xlr8r2SBMLVersion", "<>", 
          "\"\< using Mathematica Version \>\"", "<>", "$Version", "<>", 
          "\"\< loaded \>\"", "<>", "now"}], "]"}], ";"}], ",", 
       "\[IndentingNewLine]", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"Print", "[", 
         RowBox[{
         "\"\<xlr8r2SBML Version \>\"", "<>", "xlr8r2SBMLVersion", "<>", 
          "\"\< using Mathematica Version \>\"", "<>", "$Version", "<>", 
          "\"\< reloaded \>\"", "<>", "now"}], "]"}], ";"}]}], 
      "\[IndentingNewLine]", "\[IndentingNewLine]", "]"}], ";"}]}], 
   "\[IndentingNewLine]", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"If", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"!", "TEMP$FIRST"}], " ", "\[And]", " ", 
      RowBox[{"!", 
       RowBox[{"Equal", "[", 
        RowBox[{"xlr8r2SBMLVersion", ",", " ", "TEMP$OLDVERSION"}], "]"}]}]}],
      ",", 
     RowBox[{"Print", "[", "\[IndentingNewLine]", 
      RowBox[{"Style", "[", 
       RowBox[{
        RowBox[{
        "\"\<xlr8r2SBML: warning: loading a different version of this package \
may cause unexpected results.\\ncurrent version: \>\"", "<>", 
         "xlr8r2SBMLVersion", "<>", "\"\<\\nprevious version:\>\"", "<>", 
         "TEMP$OLDVERSION"}], ",", 
        RowBox[{"FontWeight", "\[Rule]", " ", "Bold"}], ",", " ", 
        RowBox[{"FontColor", "\[Rule]", " ", "Red"}]}], "]"}], 
      "\[IndentingNewLine]", "]"}]}], "]"}], ";"}], " ", 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"If", "[", 
    RowBox[{
     RowBox[{"$VersionNumber", "<", "6"}], ",", " ", 
     RowBox[{
      RowBox[{
      "Print", "[", 
       "\"\<Warning: This version of xlr8r2SBML requires Mathematica Version \
6. You are using an earlier veriosn. Some translations will not work \
properly.\>\"", "]"}], ";"}]}], " ", "\[IndentingNewLine]", "]"}], ";"}], " ",
   "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Remove", "[", "msgflag", "]"}], ";"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.426876930774791*^9, 3.426876932470128*^9}, {
  3.426877377517407*^9, 3.426877438324719*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"End", "[", "]"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Remove", "[", "TEMP$OLDVERSION", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"Remove", "[", "TEMP$FIRST", "]"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"EndPackage", "[", "]"}], ";"}]}], "Input",
 InitializationCell->True]
}, Closed]]
}, Open  ]]
},
AutoGeneratedPackage->Automatic,
CellGrouping->Manual,
WindowSize->{1013, 683},
WindowMargins->{{-1311, Automatic}, {Automatic, 85}},
Magnification->1.,
FrontEndVersion->"8.0 for Linux x86 (64-bit) (February 23, 2011)",
StyleDefinitions->FrontEnd`FileName[{"Creative"}, "PastelColor.nb", 
  CharacterEncoding -> "UTF-8"]
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[567, 22, 28, 0, 70, "Title"],
Cell[CellGroupData[{
Cell[620, 26, 50, 0, 26, "Subtitle"],
Cell[673, 28, 1696, 34, 505, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[2406, 67, 28, 0, 78, "Section"],
Cell[2437, 69, 782, 14, 107, "Text"]
}, Open  ]],
Cell[3234, 86, 128, 3, 40, "Input",
 InitializationCell->True],
Cell[CellGroupData[{
Cell[3387, 93, 41, 0, 78, "Section"],
Cell[3431, 95, 61, 0, 30, "Text"],
Cell[3495, 97, 5564, 142, 896, "Input",
 InitializationCell->True],
Cell[9062, 241, 16, 0, 30, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[9115, 246, 38, 0, 78, "Section"],
Cell[9156, 248, 286, 7, 87, "Text"],
Cell[9445, 257, 534, 10, 136, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[10016, 272, 31, 0, 78, "Section"],
Cell[10050, 274, 119, 3, 40, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[10184, 280, 486, 13, 139, "Subsubtitle"],
Cell[CellGroupData[{
Cell[10695, 297, 35, 0, 78, "Section"],
Cell[10733, 299, 115728, 2685, 11629, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[126476, 2987, 123, 2, 43, "Subsubtitle"],
Cell[CellGroupData[{
Cell[126624, 2993, 32, 0, 78, "Section"],
Cell[126659, 2995, 3408, 86, 522, "Input",
 InitializationCell->True],
Cell[130070, 3083, 437, 14, 123, "Input",
 InitializationCell->True]
}, Closed]]
}, Open  ]]
}
]
*)

(* End of internal cache information *)
